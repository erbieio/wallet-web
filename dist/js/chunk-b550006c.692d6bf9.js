(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b550006c"],{"02e4":function(e,t,a){},"0980":function(e,t,a){"use strict";a("17d8")},"100d":function(e,t,a){"use strict";a("a81b")},"16aa":function(e,t,a){"use strict";function n(e){return Object(l.pushScopeId)("data-v-60077e7f"),e=e(),Object(l.popScopeId)(),e}a.r(t);var c,r=a("9262"),o=a("94ae"),l=a("7a23"),s=a("5881"),u=a.n(s),i={class:"flex center title"},d={class:"page-container"},b={class:"mt-14 mr-14 pl-14 userinfo-box"},f={class:"from flex column between"},O={class:"flex center-v"},v={class:"avatar flex center"},j={class:"flex column between userinformation center-h pt-4 pb-4"},m={class:"username mb-4"},p={class:"userbalance"},h={class:"flex center up-down-box"},g={class:"line-box flex between center-v pl-16 pr-16"},N=n((function(){return Object(l.createElementVNode)("div",{class:"line"},null,-1)})),V={class:"text-bold f-12"},w=n((function(){return Object(l.createElementVNode)("div",{class:"line"},null,-1)})),y={class:"to from flex between center-v toInfo"},k={class:"add-ipt flex center-v between pl-14 pr-14"},E={class:"flex right center-v right to-btns"},C={class:"flex right center-v"},x={class:"information p-14 flex between"},S={class:"flex wd-100"},B={class:"avatar flex center"},T={class:"username mb-4"},_={class:"userbalance userbalanceBox"},D={class:"flex right center-v between to-btns"},A={class:"flex right center-v"},M={class:"pl-14 pr-14 userinfo-box mt-14"},U={class:"from flex column between"},I={class:"pl-14 pr-14 pt-20 pb-20 flex between amount"},F={class:"amount-info van-ellipsis"},P={class:"label"},z={class:"flex center-v right up-down-box"},L=n((function(){return Object(l.createElementVNode)("div",{class:"van-hairline--right h-12 mr-14 ml-14 line-box",style:{width:"1px"}},null,-1)})),R=n((function(){return Object(l.createElementVNode)("div",{class:"xuanwo flex center"},[Object(l.createElementVNode)("img",{src:u.a,alt:""})],-1)})),H={class:"van-ellipsis ml-6 mr-6 token-name lh-14"},q={class:"pl-14 pt-14 pr-14 userinfo-box"},J={class:"userinfo slider-box amount-info pt-20 pb-20 pl-14 pr-14"},W={class:"flex between"},$={class:"label"},G={class:"pl-10 pr-10"},Q={class:"value"},K={class:"text-bold"},X={class:"second pl-6"},Y={class:"gasfee-icon flex center-v hover"},Z={class:"btn-group"},ee={class:"container pr-26 pl-26"},te=a("9ab4"),ae=(s=a("9a1c"),a("6c43")),ne=a("2e1b"),ce=a("98f8"),re=a("f23a"),oe=a("30ac"),le=a("b4d6"),se=a("2849"),ue=a("6605"),ie=a("5502"),de=a("b6df"),be=a("2a85"),fe=a("d4c0"),Oe=a("21a0"),ve=a("6779"),je=a("d257"),me=a("901e"),pe=a.n(me),he=(me=a("5a91"),a("47e2")),ge={class:"title text-center f-16 bold van-hairline--bottom"},Ne={class:"ml-12 mr-12 p-12 content mt-24"},Ve={class:"flex between"},we={class:"label"},ye={class:"value"},ke={class:"flex between"},Ee={class:"label"},Ce={class:"value"},xe=function(e){return Object(l.pushScopeId)("data-v-1033b41e"),e=e(),Object(l.popScopeId)(),e}((function(){return Object(l.createElementVNode)("div",{class:"mt-10 pt-10 border-top"},null,-1)})),Se={class:"flex between"},Be={class:"label"},Te={class:"value"},_e={class:"flex between"},De={class:"label"},Ae={class:"value green"},Me={class:"flex between"},Ue={class:"label"},Ie={class:"value"},Fe={class:"flex between pb-30 pl-16 pr-16 mt-20 btn-box"},Pe=a("b42c"),ze=a("c030"),Le=a("37b2"),Re=a("9422"),He=a("34cf"),qe=a("e864"),Je=a("fdc9"),We=(Pe=Object(l.defineComponent)({name:"send-confirm-modal",components:((We={})[s.a.name]=s.a,We[se.a.Component.name]=se.a.Component,We[ne.a.name]=ne.a,We[re.a.name]=re.a,We[Pe.a.name]=Pe.a,We[le.a.name]=le.a,We),props:{title:{type:String,default:"send comfirm"},modelValue:{type:Boolean,default:!1},data:{type:Object,default:{}}},setup:function(e,t){var a=this,n=Object(Re.a)().$tradeConfirm,c=Object(he.b)().t,r=t.emit,o=Object(ie.b)(),s=(t=Object(l.computed)((function(){return o.state.account.accountInfo})),Object(l.computed)((function(){return o.state.account.currentNetwork}))),u=Object(l.ref)(!1),i=(Object(qe.a)().$wtoast,Object(l.ref)("0")),d=Object(l.ref)(!1),b=(Object(l.watch)((function(){return e.modelValue}),(function(e){u.value=e}),{immediate:!0}),Object(l.watch)((function(){return u.value}),(function(t){return Object(te.c)(a,void 0,void 0,(function(){var a,n,c;return Object(te.d)(this,(function(o){if(t){if(c=e.data,c.value,c.amount,c.to,a=c.address,n=c.gasPrice,c.token,c=c.gasLimit,a)try{i.value=new pe.a(ve.utils.formatEther(c)).multipliedBy(n).multipliedBy(1e9).toString()}catch(o){console.error(o)}else try{i.value=new pe.a(ve.utils.formatEther(c)).multipliedBy(n).multipliedBy(1e9).toString()}catch(o){console.error(o)}j.start()}else r("update:modelValue",!1);return[2]}))}))})),Object(ue.f)(),Object(l.ref)(!1)),f=Object(l.ref)(null),O=(Object(l.onUnmounted)((function(){f.value&&clearInterval(f.value)})),Object(l.computed)((function(){var t=e.data,a=t.amount,n=t.value;return t.gasPrice,new pe.a(a||n).plus(i.value)}))),v=Object(l.ref)(!1),j=Object(Le.a)({time:4e3,onFinish:function(){v.value=!0}});return{t:c,showModal:u,gasFee:i,cencel:function(){u.value=!1},totalAmount:O,handleComfirm:function(){return Object(te.c)(a,void 0,void 0,(function(){var t,a,r,l,s;return Object(te.d)(this,(function(i){switch(i.label){case 0:u.value=!1,t=e.data.value,a=null,r=Object(te.a)({},e.data),b.value=!0,n.open({disabled:[He.a.pendding]}),i.label=1;case 1:return i.trys.push([1,4,8,9]),[4,o.dispatch(t?"account/transaction":"account/tokenTransaction",r)];case 2:return a=i.sent(),n.update({status:"approve"}),Je.a.emit("sendComfirm"),[4,a.wait()];case 3:return l=i.sent(),o.dispatch("account/waitTxQueueResponse"),l.status?n.update({status:"success",hash:a.hash}):n.update({status:"fail",hash:a.hash}),[3,9];case 4:return-1<(s=i.sent()).toString().indexOf("timeout")?[4,o.dispatch("account/checkIsTxHash",a.hash)]:[3,6];case 5:return i.sent()&&n.update({status:"warn",failMessage:c("error.timeout")}),[3,7];case 6:n.update({status:"fail",failMessage:s.reason}),i.label=7;case 7:return[3,9];case 8:return b.value=!1,[7];case 9:return[2]}}))}))},currentNetwork:s,accountInfo:t,addressMask:fe.a,nextLoading:b,ethers:ze.a,showPopover:d,current:j.current,finishCount:v}}}),a("d80c"),a("6b0d"));We=a.n(We),Pe=We()(Pe,[["render",function(e,t,a,n,c,r){var o=Object(l.resolveComponent)("van-icon"),s=Object(l.resolveComponent)("van-popover"),u=Object(l.resolveComponent)("van-button"),i=Object(l.resolveComponent)("van-dialog");return Object(l.openBlock)(),Object(l.createElementBlock)("div",null,[Object(l.createVNode)(i,{show:e.showModal,"onUpdate:show":t[4]||(t[4]=function(t){return e.showModal=t}),teleport:"#page-box",showConfirmButton:!1,showCancelButton:!1,closeOnClickOverlay:"",title:"",class:"send-confirm-modal"},{default:Object(l.withCtx)((function(){return[Object(l.createElementVNode)("div",ge,Object(l.toDisplayString)(e.$t("send.sendConfirm")),1),Object(l.createElementVNode)("div",Ne,[Object(l.createElementVNode)("div",Ve,[Object(l.createElementVNode)("div",we,Object(l.toDisplayString)(e.t("sendto.from")),1),Object(l.createElementVNode)("div",ye,Object(l.toDisplayString)(e.addressMask(e.accountInfo.address)),1)]),Object(l.createElementVNode)("div",ke,[Object(l.createElementVNode)("div",Ee,Object(l.toDisplayString)(e.t("sendto.to")),1),Object(l.createElementVNode)("div",Ce,Object(l.toDisplayString)(e.addressMask(e.data.to)),1)]),xe,Object(l.createElementVNode)("div",Se,[Object(l.createElementVNode)("div",Be,Object(l.toDisplayString)(e.t("transactiondetails.transferAmount")),1),Object(l.createElementVNode)("div",Te,Object(l.toDisplayString)(e.data.amount||e.data.value)+" "+Object(l.toDisplayString)(e.currentNetwork.currencySymbol),1)]),Object(l.createElementVNode)("div",_e,[Object(l.createElementVNode)("div",De,[Object(l.createTextVNode)(Object(l.toDisplayString)(e.t("transactiondetails.gasfee"))+" ",1),Object(l.createVNode)(s,{show:e.showPopover,"onUpdate:show":t[3]||(t[3]=function(t){return e.showPopover=t}),theme:"dark",placement:"top"},{reference:Object(l.withCtx)((function(){return[Object(l.createVNode)(o,{name:"question hover",onMouseover:t[1]||(t[1]=function(t){return e.showPopover=!0}),onMouseout:t[2]||(t[2]=function(t){return e.showPopover=!1})})]})),default:Object(l.withCtx)((function(){return[Object(l.createElementVNode)("div",{class:"f-12 pl-10 pr-10 pt-10 pb-10",onClick:t[0]||(t[0]=function(t){return e.showPopover=!1})},Object(l.toDisplayString)(e.t("common.gasFee")),1)]})),_:1},8,["show"])]),Object(l.createElementVNode)("div",Ae," ≈ "+Object(l.toDisplayString)(e.gasFee)+" "+Object(l.toDisplayString)(e.currentNetwork.currencySymbol),1)]),Object(l.createElementVNode)("div",Me,[Object(l.createElementVNode)("div",Ue,Object(l.toDisplayString)(e.t("transactiondetails.totalAmount")),1),Object(l.createElementVNode)("div",Ie," ≈ "+Object(l.toDisplayString)(e.totalAmount)+" "+Object(l.toDisplayString)(e.currentNetwork.currencySymbol),1)])]),Object(l.createElementVNode)("div",Fe,[Object(l.createVNode)(u,{onClick:e.cencel},{default:Object(l.withCtx)((function(){return[Object(l.createTextVNode)(Object(l.toDisplayString)(e.t("sendto.cancel")),1)]})),_:1},8,["onClick"]),Object(l.createVNode)(u,{type:"primary",loading:e.nextLoading,disabled:!e.finishCount,onClick:e.handleComfirm},{default:Object(l.withCtx)((function(){return[Object(l.createTextVNode)(Object(l.toDisplayString)(e.t("sendto.send"))+" "+Object(l.toDisplayString)(e.finishCount?"":"("+e.current.seconds+"S)"),1)]})),_:1},8,["loading","disabled","onClick"])])]})),_:1},8,["show"])])}],["__scopeId","data-v-1033b41e"]]),s={name:"pageSend",components:((c={})[s.a.name]=s.a,c[ae.a.name]=ae.a,c[ne.a.name]=ne.a,c[ce.a.name]=ce.a,c[re.a.name]=re.a,c[oe.a.name]=oe.a,c[le.a.name]=le.a,c.actionSheet=Oe.a,c.NavHeader=o.a,c.AccountIcon=r.a,c.AccountList=de.a,c.AccountModal=me.a,c.SendConfirm=Pe,c),setup:function(e,t){var a=this,n=Object(ue.f)(),c=Object(ie.b)(),r=Object(ue.e)(),o=c.commit,s=Object(he.b)().t,u=Object(qe.a)().$wtoast,i=c.dispatch,d=Object(l.computed)((function(){return c.state.account.accountInfo})),b=Object(l.computed)((function(){return c.state.account.currentNetwork})),f=Object(l.ref)(s("send.addressError")),O=Object(l.computed)((function(){var e=b.value.currencySymbol,t=d.value.amount,a=c.state.transfer.chooseToken;return a||{balance:t,logoUrl:"",name:e,precision:1,symbol:e,tokenContractAddress:null}})),v=Object(l.computed)((function(){return c.state.transfer.chooseContact})),j=Object(l.ref)(21e3),m=Object(l.computed)((function(){return c.state.transfer.amount})),p=(v=Object(l.toRaw)(v.value||{}),Object(l.reactive)({data:v})),h=Object(l.ref)(Object(l.toRaw)(0==m.value?null:m.value)),g=Object(l.ref)(!1),N=Object(l.ref)(v.address),V=Object(l.ref)(s("send.amountError")),w=function(){var e,t;return k.value=!1,N.value?N.value.toUpperCase()==d.value.address.toUpperCase()?(k.value=!0,f.value=s("transaction.addressErrMsg"),!1):new pe.a(O.value.balance).lte(h.value)?(V.value=s("sendto.nomoney",{symbol:O.value.name,amount:O.value.balance}),!(P.value=!0)):0==O.value.balance||0==h.value?(V.value=s("sendto.no"),!(P.value=!0)):(e=O.value.tokenContractAddress,t=D.value,e?{address:e,amount:h.value,to:N.value,token:O.value,gasPrice:t,gasLimit:j.value}:{to:N.value,value:h.value,token:O.value,gasPrice:t,gasLimit:j.value}):(k.value=!0,f.value=s("send.addressError"),!1)},y=Object(l.ref)({}),k=Object(l.ref)(!1);function E(){return Object(te.c)(this,void 0,void 0,(function(){return Object(te.d)(this,(function(e){if(N.value)try{ve.utils.getAddress(N.value),k.value=!1,p.data=N.value?{address:N.value,icon:Object(je.b)()}:Object(l.toRaw)(p)}catch(e){Object(ae.a)(s("sendto.wrongaddressformat")),N.value="",k.value=!0}return[2]}))}))}function C(){p.data={},N.value="",o("transfer/CHOOSE_CONTACT",null)}Object(l.watch)(O.value,(function(e){return Object(te.c)(a,void 0,void 0,(function(){var e=this;return Object(te.d)(this,(function(t){return Object(l.nextTick)((function(){return Object(te.c)(e,void 0,void 0,(function(){return Object(te.d)(this,(function(e){return F(),[2]}))}))})),[2]}))}))}),{deep:!0,immediate:!0}),Object(l.watch)((function(){return p}),(function(e){e=Object(l.toRaw)(e),"{}"==JSON.stringify(e.data)?g.value=!1:g.value=!0}),{deep:!0,immediate:!0});var x=Object(l.ref)(!1),S=Object(l.ref)(2),B=(m=Object(l.computed)((function(){return!1})),Object(l.ref)(!1)),T=function(){B.value=!0},_=Object(l.ref)([]),D=Object(l.ref)("0"),A=(v=(Object(te.c)(a,void 0,void 0,(function(){var e,t,a,n;return Object(te.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,Object(be.i)()];case 1:return[4,c.sent().provider.getGasPrice()];case 2:return a=c.sent(),a=new pe.a(ve.utils.formatUnits(a,"wei")),e=a.multipliedBy(.2),n=a.multipliedBy(.1),e=a.plus(e).dividedBy(1e9).toString(),t=a.dividedBy(1e9).toString(),a=a.plus(n).dividedBy(1e9).toString(),_.value=[t,a,e],D.value=e,R(r.query),[3,4];case 3:return n=c.sent(),console.error("getGasPrice:error",n),[3,4];case 4:return[2]}}))})),2*Math.random()),Object(l.ref)((11+v).toFixed(2))),M=(v=(Je.a.on("changeAccount",(function(e){o("transfer/CLEAR_TX")})),Je.a.on("sendComfirm",(function(){C(),N.value="",h.value=null,o("transfer/CLEAR_TX")})),Object(l.onUnmounted)((function(){Je.a.off("sendComfirm"),Je.a.off("changeAccount")})),Object(l.computed)((function(){return c.state.system.amountType}))),Object(l.computed)((function(){var e=Object(fe.l)(new pe.a(D.value).dividedBy(1e9).toFixed(10),10);return e&&!isNaN(e)?e:"0"}))),U=Object(l.computed)((function(){return new pe.a(h.value||0).gt(O.value.balance)})),I=Object(l.computed)((function(){return new pe.a(j.value).lte(21e3)})),F=function(){return Object(te.c)(a,void 0,void 0,(function(){var e,t,a;return Object(te.d)(this,(function(n){switch(n.label){case 0:return(e=O.value.tokenContractAddress)?[4,i("account/connectConstract",e)]:[3,2];case 1:return e=n.sent(),t=e.contractWithSigner,e.contract,h.value,a=h.value?h.value.toString():"1",t.estimateGas.transfer(N.value||d.value.address,a).then((function(e){e=ve.utils.formatUnits(e,"wei"),j.value=parseFloat(new pe.a(e).plus(new pe.a(e).multipliedBy(.2)).toFixed(0))})),[3,3];case 2:j.value=21e3,n.label=3;case 3:return[2]}}))}))},P=(F(),Object(l.ref)(!1)),z=Object(l.ref)(!1),L=Object(l.ref)(!1),R=function(e){var t=e.gasPrice,a=e.second,n=e.gasLimit;e=e.gasFee;t&&a&&n&&e&&(D.value=t,S.value=Number(e),j.value=n,A.value=a)};return Object(l.onActivated)((function(){R(r.query)})),Object(l.onMounted)((function(){var e=Object(l.computed)((function(){return c.getters["account/accountTokens"]})),t=r.query,n=t.address,u=t.tokenContractAddress,d=t.value;t=t.action;t&&"transfer"==t&&(N.value=n,h.value=d,t=e.value.find((function(e){return e.tokenContractAddress&&e.tokenContractAddress==u})),u&&"null"!=u&&!t?se.a.confirm({title:u,message:s("addtokens.tokenImportTip")}).then((function(){return Object(te.c)(a,void 0,void 0,(function(){var e,t;return Object(te.d)(this,(function(a){switch(a.label){case 0:return[4,Object(be.i)()];case 1:e=a.sent().address,a.label=2;case 2:return a.trys.push([2,4,,5]),ae.a.loading({message:s("userexchange.loading"),forbidClick:!0,loadingType:"spinner"}),[4,i("account/addToken",{tokenContractAddress:u,address:e})];case 3:return t=a.sent(),o("transfer/UPDATE_CHOOSETOKEN",t),Object(ae.a)(s("currencyList.Importsuccessful")),[3,5];case 4:return t=a.sent(),Object(ae.a)(t.toString()),[3,5];case 5:return[2]}}))}))})):o("transfer/UPDATE_CHOOSETOKEN",t),N.value=n,h.value=d,E())})),{back:function(){n.replace({name:"home"})},gasLimitModal:z,handleAmountBlur:function(){return Object(te.c)(a,void 0,void 0,(function(){return Object(te.d)(this,(function(e){switch(e.label){case 0:return[4,F()];case 1:return e.sent(),Number(h.value)?P.value=!1:P.value=!0,[2]}}))}))},gasPriceModal:L,isPoor:U,amountType:v,limitBlur:function(){new pe.a(j.value).lt(21e3)&&(j.value=21e3)},gasFee:S,second:A,gasPriceUsd:M,gasPriceNum:D,t:s,addressMsg:f,gasLimit:j,handleShowSendConfirm:T,showSendConfirm:B,gonext:function(){return Object(te.c)(a,void 0,void 0,(function(){var e;return Object(te.d)(this,(function(t){return k.value=!1,P.value=!1,(e=w())?(isNaN(h.value)||new pe.a(h.value).lte(0)?(P.value=!0,u.warn(s("sendto.no"))):(y.value=e,T()),[2]):[2,!1]}))}))},handleTokenModal:function(){n.replace({name:"receive-choose",query:{backUrl:"send",clickBackUrl:"send"}})},accountInfo:d,toAddress:N,account:p,hasChooseAddress:g,addressMask:fe.a,cancelAccount:function(){p.data={}},checkAddress:E,amountErrMsg:V,showModal:x,handleShowAccountModal:function(){x.value=!0},decimal:fe.b,currentNetwork:b,scroll:scroll,toContacts:function(){n.replace({name:"contacts-choose",query:{backUrl:"send",clickBackUrl:"send"}})},clearAddress:C,amount:h,changeAmount:function(e){o("transfer/UPDATE_AMOUNT",Number(e))},chooseToken:O,handleMax:function(){var e=O.value.balance;h.value=e},btnDisabled:m,sendTx:y,gasData:_,toUsd:fe.l,minusDisabled:I,checkAddressError:k,toSetGas:function(){var e;w()&&(e=O.value.tokenContractAddress,e={toAddress:N.value,amount:h.value,tokenContractAddress:e,backUrl:"send"},n.push({name:"gasFee",query:e}))},amountErr:P}}};a("9d3c"),t.default=We()(s,[["render",function(e,t,a,n,c,s){var u=o.a,te=r.a,ae=Object(l.resolveComponent)("van-icon"),ne=Object(l.resolveComponent)("van-field"),ce=Object(l.resolveComponent)("van-popover"),re=Object(l.resolveComponent)("van-button"),oe=Object(l.resolveComponent)("SendConfirm"),le=Object(l.resolveComponent)("action-sheet");return Object(l.openBlock)(),Object(l.createElementBlock)(l.Fragment,null,[Object(l.createVNode)(u,null,{left:Object(l.withCtx)((function(){return[Object(l.createElementVNode)("span",{class:"back hover",onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.back&&n.back.apply(n,e)})},Object(l.toDisplayString)(n.t("createAccountpage.back")),1)]})),title:Object(l.withCtx)((function(){return[Object(l.createElementVNode)("div",i,Object(l.toDisplayString)(n.t("wallet.send")),1)]})),_:1}),Object(l.createElementVNode)("div",d,[Object(l.createElementVNode)("div",b,[Object(l.createElementVNode)("div",{class:Object(l.normalizeClass)("userinfo "+(n.checkAddressError?"error":""))},[Object(l.createElementVNode)("div",f,[Object(l.createElementVNode)("div",{class:"information p-14 flex between",onClick:t[1]||(t[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.handleShowAccountModal&&n.handleShowAccountModal.apply(n,e)})},[Object(l.createElementVNode)("div",O,[Object(l.createElementVNode)("div",v,[Object(l.createVNode)(te,{data:n.accountInfo.icon},null,8,["data"])]),Object(l.createElementVNode)("div",j,[Object(l.createElementVNode)("div",m,Object(l.toDisplayString)(n.accountInfo.name),1),Object(l.createElementVNode)("div",p,Object(l.toDisplayString)(n.chooseToken.balance)+" "+Object(l.toDisplayString)(n.chooseToken.name),1)])]),Object(l.createElementVNode)("div",h,[Object(l.createVNode)(ae,{name:n.showModal?"arrow-up":"arrow-down"},null,8,["name"])])])]),Object(l.createElementVNode)("div",g,[N,Object(l.createElementVNode)("div",V,Object(l.toDisplayString)(n.t("sendto.to")),1),w]),Object(l.createElementVNode)("div",y,[Object(l.withDirectives)(Object(l.createElementVNode)("div",k,[Object(l.createVNode)(ne,{placeholder:e.$t("sendNFT.addAddress"),modelValue:n.toAddress,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.toAddress=e}),onBlur:n.checkAddress},null,8,["placeholder","modelValue","onBlur"]),Object(l.withDirectives)(Object(l.createElementVNode)("div",E,[Object(l.createElementVNode)("i",{class:"iconfont icon-tongxunlu hover",onClick:t[3]||(t[3]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.toContacts&&n.toContacts.apply(n,e)})})],512),[[l.vShow,!n.hasChooseAddress]]),Object(l.withDirectives)(Object(l.createElementVNode)("div",C,[Object(l.createVNode)(ae,{name:"cross",class:"clearAddress",onClick:n.clearAddress},null,8,["onClick"])],512),[[l.vShow,n.hasChooseAddress]])],512),[[l.vShow,!n.hasChooseAddress]]),Object(l.withDirectives)(Object(l.createElementVNode)("div",x,[Object(l.createElementVNode)("div",S,[Object(l.createElementVNode)("div",B,[Object(l.createVNode)(te,{data:n.account.data.icon},null,8,["data"])]),Object(l.createElementVNode)("div",{class:Object(l.normalizeClass)("flex column "+(n.account.data.name?"between":"")+"  userinformation center-h pt-4 pb-4")},[Object(l.createElementVNode)("div",T,Object(l.toDisplayString)(n.account.data.name),1),Object(l.createElementVNode)("div",_,Object(l.toDisplayString)(n.account.data.address)+" ",1)],2)]),Object(l.withDirectives)(Object(l.createElementVNode)("div",D,[Object(l.createElementVNode)("i",{class:"iconfont icon-tongxunlu hover",onClick:t[4]||(t[4]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.toContacts&&n.toContacts.apply(n,e)})})],512),[[l.vShow,!n.hasChooseAddress]]),Object(l.withDirectives)(Object(l.createElementVNode)("div",A,[Object(l.createVNode)(ae,{name:"cross",class:"clearAddress",onClick:n.clearAddress},null,8,["onClick"])],512),[[l.vShow,n.hasChooseAddress]])],512),[[l.vShow,n.hasChooseAddress]])])],2)]),Object(l.withDirectives)(Object(l.createElementVNode)("div",{class:"color-error f-12 ml-14 mr-14 mb-14 mt-8"},Object(l.toDisplayString)(n.addressMsg),513),[[l.vShow,n.checkAddressError]]),Object(l.createElementVNode)("div",M,[Object(l.createElementVNode)("div",{class:Object(l.normalizeClass)("userinfo  "+(n.amountErr?"error":""))},[Object(l.createElementVNode)("div",U,[Object(l.createElementVNode)("div",I,[Object(l.createElementVNode)("div",F,[Object(l.createElementVNode)("div",P,Object(l.toDisplayString)(n.t("sendNFT.amount")),1),Object(l.createVNode)(ne,{placeholder:"0.00",modelValue:n.amount,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return n.amount=e}),n.changeAmount],maxlength:"40",onBlur:n.handleAmountBlur,type:"number"},null,8,["modelValue","onBlur","onUpdate:modelValue"])]),Object(l.createElementVNode)("div",z,[Object(l.createElementVNode)("span",{class:"max f-12 hover",onClick:t[6]||(t[6]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.handleMax&&n.handleMax.apply(n,e)})},Object(l.toDisplayString)(n.t("sendto.max")),1),L,Object(l.createElementVNode)("div",{class:"token-info flex center-v between pr-6 pl-6 hover",onClick:t[7]||(t[7]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.handleTokenModal&&n.handleTokenModal.apply(n,e)})},[R,Object(l.createElementVNode)("div",H,Object(l.toDisplayString)(n.chooseToken.name),1),Object(l.createVNode)(ae,{name:"arrow"})])])])])],2)]),Object(l.withDirectives)(Object(l.createElementVNode)("div",{class:"color-error f-12 ml-14 mr-14 mb-14 mt-8"},Object(l.toDisplayString)(n.amountErrMsg),513),[[l.vShow,n.amountErr]]),Object(l.createElementVNode)("div",q,[Object(l.createElementVNode)("div",J,[Object(l.createElementVNode)("div",W,[Object(l.createElementVNode)("div",null,[Object(l.createElementVNode)("div",$,[Object(l.createTextVNode)(Object(l.toDisplayString)(n.t("sendto.gasprice"))+" ",1),Object(l.createVNode)(ce,{show:n.gasPriceModal,"onUpdate:show":t[10]||(t[10]=function(e){return n.gasPriceModal=e}),theme:"dark",placement:"right"},{reference:Object(l.withCtx)((function(){return[Object(l.createVNode)(ae,{name:"question hover",onMouseover:t[8]||(t[8]=function(e){return n.gasPriceModal=!0}),onMouseleave:t[9]||(t[9]=function(e){return n.gasPriceModal=!1})})]})),default:Object(l.withCtx)((function(){return[Object(l.createElementVNode)("p",G,Object(l.toDisplayString)(n.t("sendto.gastit")),1)]})),_:1},8,["show"])]),Object(l.createElementVNode)("div",Q,[Object(l.createElementVNode)("span",K,"≈ "+Object(l.toDisplayString)(n.gasPriceNum)+" Gwei,",1),Object(l.createElementVNode)("span",X,"≈ "+Object(l.toDisplayString)(n.second)+" "+Object(l.toDisplayString)(n.t("sendto.second")),1)])]),Object(l.createElementVNode)("div",Y,[Object(l.createElementVNode)("i",{class:"iconfont icon-conditions",onClick:t[11]||(t[11]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.toSetGas&&n.toSetGas.apply(n,e)})})])])])]),Object(l.createElementVNode)("div",Z,[Object(l.createElementVNode)("div",ee,[Object(l.createVNode)(re,{type:"primary",disabled:n.btnDisabled,onClick:n.gonext,block:""},{default:Object(l.withCtx)((function(){return[Object(l.createTextVNode)(Object(l.toDisplayString)(n.t("sendto.confirm")),1)]})),_:1},8,["disabled","onClick"])])]),Object(l.createVNode)(oe,{modelValue:n.showSendConfirm,"onUpdate:modelValue":t[12]||(t[12]=function(e){return n.showSendConfirm=e}),data:n.sendTx},null,8,["modelValue","data"])]),Object(l.createVNode)(le,{modelValue:n.showModal,"onUpdate:modelValue":t[13]||(t[13]=function(e){return n.showModal=e}),hasBtn:!1},null,8,["modelValue"])],64)}],["__scopeId","data-v-60077e7f"]])},"17d8":function(e,t,a){},"18ba":function(e,t,a){"use strict";function n(e){return Object(r.pushScopeId)("data-v-98a9f268"),e=e(),Object(r.popScopeId)(),e}a.r(t);var c=a("9ab4"),r=a("7a23"),o=a("62d1"),l=a("4b9e"),s=a("a136"),u=a("b4d6"),i=a("9a1c"),d=a("f23a"),b=a("e31f"),f=a("2e1b"),O=a("901e"),v=a.n(O),j=a("47e2"),m=a("f4ad"),p=a("da92"),h=a("0274"),g=a("5502"),N=a("c030"),V=a("9422"),w=a("34cf"),y=a("e864"),k=a("6605"),E=a("2a85"),C=a("e762"),x={class:"ai-page"},S={class:"label mb-6"},B=n((function(){return Object(r.createElementVNode)("span",{class:"mr-4"},"*",-1)})),T={class:"p-10"},_={class:"label mt-16"},D=n((function(){return Object(r.createElementVNode)("span",{class:"mr-4"},"*",-1)})),A={class:"label mt-16 mb-8"},M={class:"pl-10 pr-10"},U={class:"form-item"},I={key:0},F={class:"label mt-16 mb-8"},P=n((function(){return Object(r.createElementVNode)("span",{class:"mr-4"},"*",-1)})),z={class:"pl-10 pr-10"},L={key:1,class:"form-item"},R={class:"btn-box mt-30"},H={class:"container flex center pl-28 pr-28"},q=(O=Object(r.defineComponent)({__name:"aiCreate",setup:function(e){function t(){return Object(c.c)(W,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(c){switch(c.label){case 0:if(le.value&&o.b.test(oe.value))return $.warn(Y("generateNFT.normalNftTip")),[2];if(ie.value&&!de.value)return[2];c.label=1;case 1:return c.trys.push([1,9,,10]),Oe.value=!0,n=!le.value&&o.b.test(oe.value),e=X.account.accountInfo.address,n?[3,6]:[4,Object(E.h)({to:e,value:N.a.utils.parseEther("1")})];case 2:return t=c.sent(),ie.value?(ge.value=t,[3,5]):[3,3];case 3:return[4,ve()];case 4:a=c.sent(),ge.value=new v.a(a).plus(t).toString(),c.label=5;case 5:return[3,8];case 6:return[4,ve()];case 7:a=c.sent(),ge.value=a,c.label=8;case 8:return[3,10];case 9:return n=c.sent(),$.fail(n.reason),[3,10];case 10:return[2]}}))}))}function a(){return Object(c.c)(W,void 0,void 0,(function(){var e,t,a,n,r,l,s,u,i;return Object(c.d)(this,(function(c){switch(c.label){case 0:e=!le.value&&o.b.test(oe.value),Oe.value=!1,G.open({disabled:[w.a.pendding,w.a.approve],callback:function(){location.href=Object(C.a)(ne.backUrl)+"?action=createNft&status="+!0}}),c.label=1;case 1:return c.trys.push([1,13,14,15]),t=X.account.accountInfo.address,ie.value?[3,8]:e?[4,me()]:[3,3];case 2:return c.sent(),[3,7];case 3:return le.value?[4,pe()]:[3,5];case 4:return a=c.sent(),r=a.nft_address,a.owner,a=a.hash,G.update({status:"success",hash:a,callBack:je}),[3,7];case 5:return a=Math.round(2147483647*Math.random())+"",n={prompt:oe.value,randomNumber:a,version:"v1"},[4,he(n)];case 6:n=c.sent(),s=n.receipt,r=n.nft_address,n.owner,G.update({status:"success",hash:s.transitionHash,callBack:je}),c.label=7;case 7:return[3,12];case 8:return r=ce.address?ce.address.toString():"",l={owner:t,nft_address:r,version:"v1"},s={useraddr:t.toString(),nftaddr:r,email:de.value.toString(),drawflag:"1"},[4,Object(m.a)(s)];case 9:return c.sent(),[4,K("account/transaction",{value:Ve.value,to:Ne.value,data:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(l)))})];case 10:return u=c.sent(),G.update({status:"approve"}),[4,u.wait()];case 11:if(1!=c.sent().status)return G.update({status:"fail",hash:u.hash,callBack:function(){location.href=Object(C.a)(ne.backUrl)+"?action=createNft&status="+!1}}),[2];G.update({status:"success",hash:u.hash,callBack:je}),c.label=12;case 12:return[3,15];case 13:return i=c.sent(),console.error(i),$.warn(i.reason),[3,15];case 14:return K("account/waitTxQueueResponse"),Oe.value=!1,[7];case 15:return[2]}}))}))}function n(e){return e?o.e.test(e)?!(ee.value=!1):(ee.value=!0,Y("generateNFT.emailError")):(ee.value=!0,Y("generateNFT.emailNotNull"))}function O(e){return e?o.d.test(e)&&!o.b.test(e)||!o.d.test(e)&&o.b.test(e)||o.d.test(e)||o.b.test(e)?!(te.value=!1):(te.value=!0,Y("generateNFT.promptWordErr")):(te.value=!0,Y("generateNFT.promptWordNotNull"))}function q(e){return e?!(ae.value=!1):(ae.value=!0,Y("castingnft.numbersof"))}function J(){var e=new v.a(fe.value||"0");e.gt(10)?fe.value=10:e.lt(1)?fe.value=1:fe.value=parseInt(e.toFormat(1).toString())}var W=this,$=Object(y.a)().$wtoast,G=Object(V.a)().$tradeConfirm,Q=(Object(k.f)(),Object(g.b)()),K=Q.dispatch,X=Q.state,Y=Object(j.b)().t,Z=Object(r.ref)(!1),ee=Object(r.ref)(!1),te=Object(r.ref)(!1),ae=Object(r.ref)(!1),ne=(Object(r.ref)(!1),Object(k.e)().query),ce=ne.data?JSON.parse(decodeURIComponent(ne.data)):null,re=ce&&ce.info?JSON.parse(ce.info):ce,oe=Object(r.ref)(re?re.prompt:""),le=Object(r.ref)(re.aiModel||ce.modif||!1),se=Object(r.ref)(!1),ue=Object(r.ref)(!1),ie=Object(r.ref)(!!ce.address),de=Object(r.ref)(re.email||""),be=Object(r.ref)(!!ce.modif),fe=Object(r.ref)(ce.royalty?Number(ce.royalty):""),Oe=Object(r.ref)(!1),ve=function(){return Object(c.c)(W,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(c){switch(c.label){case 0:return e=!le.value&&o.b.test(oe.value),t=X.account.accountInfo.address,a=Math.round(2147483647*Math.random())+"",n={},e?n.meta_url=oe.value:(n.prompt=oe.value,n.randomNumber=a,n.version="v1"),a={version:"0.0.1",type:0,royalty:100*Number(fe.value),exchanger:"",meta_url:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(n)))},n=Q.getters["account/chainParsePrefix"]+":"+JSON.stringify(a),a=N.a.utils.hexlify(N.a.utils.toUtf8Bytes(n)),n={to:t,from:t,data:a,value:e?N.a.utils.parseEther("0"):N.a.utils.parseEther(Ve.value.toString())},[4,Object(E.h)(n)];case 1:return[2,c.sent()]}}))}))},je=(Object(r.watch)((function(){return le.value}),(function(e){e||(de.value="")})),function(){var e=Object(C.a)(ne.backUrl);location.href=e+"?action=createNft&status="+!0}),me=function(){return Object(c.c)(W,void 0,void 0,(function(){var e,t,a,n,r;return Object(c.d)(this,(function(c){switch(c.label){case 0:return e={meta_url:oe.value},[4,he(e,(function(){G.update({status:"approve"})}))];case 1:return e=c.sent(),t=e.receipt,a=e.nft_address,n=e.owner,r=e.hash,G.update({status:"success",hash:r,callBack:je}),[2,{receipt:t,nft_address:a,owner:n}]}}))}))},pe=function(){return Object(c.c)(W,void 0,void 0,(function(){var e,t,a,n,r;return Object(c.d)(this,(function(c){switch(c.label){case 0:return e=Math.round(2147483647*Math.random())+"",e={prompt:oe.value,randomNumber:e,version:"v1"},[4,he(e)];case 1:return e=c.sent(),e.receipt,t=e.nft_address,a=e.owner,n={useraddr:a,nftaddr:t,email:de.value.toString(),drawflag:"1"},[4,Object(m.a)(n)];case 2:return c.sent(),n={nft_address:t,owner:a,version:"v1"},[4,K("account/transaction",{value:Ve.value,to:Ne.value,data:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(n)))})];case 3:return r=c.sent(),G.update({status:"approve"}),[4,r.wait()];case 4:return 1!=c.sent().status?(G.update({status:"fail",hash:r.hash,callBack:function(){location.href=Object(C.a)(ne.backUrl)+"?action=createNft&status="+!1}}),[2,Promise.reject("tx fail")]):[2,{nft_address:t,owner:a,hash:r.hash}]}}))}))},he=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=function(e){}),Object(c.c)(W,void 0,void 0,(function(){var a,n,r,o;return Object(c.d)(this,(function(c){switch(c.label){case 0:return a=X.account.accountInfo.address,r={version:"0.0.1",type:0,royalty:100*Number(fe.value),exchanger:"",meta_url:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(e)))},r=Q.getters["account/chainParsePrefix"]+":"+JSON.stringify(r),r=N.a.utils.hexlify(N.a.utils.toUtf8Bytes(r)),[4,K("account/transaction",{to:a,from:a,data:r,value:"0"})];case 1:return n=c.sent(),t(n),[4,n.wait()];case 2:return r=c.sent(),o=r.logs[0],r.status?(o=o.topics,o[0],o=o[1],o="0x"+o.substr(o.length-40),[2,{receipt:r,nft_address:o,owner:a,hash:n.hash}]):[2,Promise.reject("failure of transaction")]}}))}))},ge=Object(r.ref)(""),Ne=Object(r.ref)(""),Ve=Object(r.ref)(0);return Object(r.onMounted)((function(){return Object(c.c)(W,void 0,void 0,(function(){var e,a;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,Object(m.c)()];case 1:return e=n.sent(),Ne.value=e.data,[4,Object(m.i)()];case 2:return e=n.sent(),Ve.value=Number(N.a.utils.formatUnits(e.data,"ether")),t(),ie.value?(a=X.account.accountInfo.address,[4,Object(m.f)({useraddr:a})]):[3,4];case 3:a=n.sent(),de.value=a.data,t(),n.label=4;case 4:return[2]}}))}))})),function(e,c){return Object(r.openBlock)(),Object(r.createElementBlock)("div",x,[Object(r.createVNode)(Object(r.unref)(l.a),{onSubmit:t},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(s.a),{class:"formGroup"},{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",S,[B,Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptWord"))+" ",1),Object(r.createVNode)(Object(r.unref)(u.a),{show:Z.value,"onUpdate:show":c[2]||(c[2]=function(e){return Z.value=e}),theme:"dark",placement:"bottom-start"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(i.a),{name:"question hover",onMouseover:c[0]||(c[0]=function(e){return Z.value=!0}),onMouseleave:c[1]||(c[1]=function(e){return Z.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",T,[Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptTip")),1),Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptTip1")),1),Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptTip2")),1)])]})),_:1},8,["show"])]),Object(r.createVNode)(Object(r.unref)(d.a),{class:Object(r.normalizeClass)(te.value?"error":""),"label-align":"top",modelValue:oe.value,"onUpdate:modelValue":c[3]||(c[3]=function(e){return oe.value=e}),disabled:!!Object(r.unref)(ne).address,autosize:"",rows:6,clearable:"",type:"textarea",label:"",placeholder:Object(r.unref)(Y)("generateNFT.placeholder"),rules:[{validator:O}]},null,8,["class","modelValue","disabled","placeholder","rules"]),Object(r.createElementVNode)("div",_,[D,Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("castingnft.royalty"))+" ( 1%-10% ) ",1)]),Object(r.createVNode)(Object(r.unref)(d.a),{modelValue:fe.value,"onUpdate:modelValue":c[4]||(c[4]=function(e){return fe.value=e}),name:"royalty",disabled:!!Object(r.unref)(ne).address,class:Object(r.normalizeClass)(ae.value?"error":""),type:"digit",onBlur:J,placeholder:e.$t("castingnft.royaltyPlaceholder"),rules:[{validator:q}]},null,8,["modelValue","disabled","class","placeholder","rules"]),Object(r.createElementVNode)("div",A,[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.creativeMode"))+" ",1),Object(r.createVNode)(Object(r.unref)(u.a),{show:ue.value,"onUpdate:show":c[7]||(c[7]=function(e){return ue.value=e}),theme:"dark",placement:"right"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(i.a),{name:"question hover",onMouseover:c[5]||(c[5]=function(e){return ue.value=!0}),onMouseleave:c[6]||(c[6]=function(e){return ue.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",M,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.aiDrawTip")),1)]})),_:1},8,["show"])]),Object(r.createElementVNode)("div",U,[Object(r.createVNode)(Object(r.unref)(b.a),{modelValue:le.value,"onUpdate:modelValue":c[8]||(c[8]=function(e){return le.value=e}),size:"20",disabled:ie.value},null,8,["modelValue","disabled"])]),le.value?(Object(r.openBlock)(),Object(r.createElementBlock)("div",I,[Object(r.createElementVNode)("div",F,[P,Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.emailAddr"))+" ",1),Object(r.createVNode)(Object(r.unref)(u.a),{show:se.value,"onUpdate:show":c[11]||(c[11]=function(e){return se.value=e}),theme:"dark",placement:"right"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(i.a),{name:"question hover",onMouseover:c[9]||(c[9]=function(e){return se.value=!0}),onMouseleave:c[10]||(c[10]=function(e){return se.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",z,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.emailTip")),1)]})),_:1},8,["show"])]),be.value||le.value?(Object(r.openBlock)(),Object(r.createBlock)(Object(r.unref)(d.a),{key:0,class:Object(r.normalizeClass)(ee.value?"error":""),"label-align":"top",modelValue:de.value,"onUpdate:modelValue":c[12]||(c[12]=function(e){return de.value=e}),label:"",clearable:"",placeholder:Object(r.unref)(Y)("generateNFT.placeEmail"),rules:[{validator:n}]},null,8,["class","modelValue","placeholder","rules"])):(Object(r.openBlock)(),Object(r.createElementBlock)("div",L,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(de.value),1),Object(r.createElementVNode)("i",{class:"iconfont icon-bianji ml-6 hover",onClick:c[13]||(c[13]=function(e){return be.value=!1})})]))])):Object(r.createCommentVNode)("",!0)]})),_:1}),Object(r.createElementVNode)("div",R,[Object(r.createElementVNode)("div",H,[Object(r.createVNode)(Object(r.unref)(f.a),{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("sendto.next")),1)]})),_:1})])])]})),_:1}),Object(r.createVNode)(p.a,{modelValue:Oe.value,"onUpdate:modelValue":c[15]||(c[15]=function(e){return Oe.value=e}),title:Object(r.unref)(Y)("generateNFT.geneateComfirm")},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(h.a,{onCancel:c[14]||(c[14]=function(e){return Oe.value=!1}),onConfirm:a,gasFee:ge.value,value:Ve.value,sendAddr:Ne.value,promptWord:oe.value,email:de.value},null,8,["gasFee","value","sendAddr","promptWord","email"])]})),_:1},8,["modelValue","title"])])}}}),a("0980"),a("6b0d"));a=a.n(q);t.default=a()(O,[["__scopeId","data-v-98a9f268"]])},"1a6f":function(e,t,a){"use strict";a("6a48")},"28b6":function(e,t,a){"use strict";function n(e){return Object(r.pushScopeId)("data-v-2922166a"),e=e(),Object(r.popScopeId)(),e}a.r(t);var c,r=a("7a23"),o={class:"loading-bg pt-24 pb-24"},l={class:"tit-big text-center f-16"},s=n((function(){return Object(r.createElementVNode)("div",{class:"flex between center-v dotted-box"},[Object(r.createElementVNode)("div",{class:"step2 f-12 lh-16"},"1"),Object(r.createElementVNode)("span",{class:"dotted-line"}),Object(r.createElementVNode)("div",{class:"step2 f-12 lh-16 no"},"2")],-1)})),u={class:"flex between f-12 dotted-box"},i={class:"tit-small"},d={class:"tit-small"},b={class:"icon-box flex center"},f=[n((function(){return Object(r.createElementVNode)("i",{class:"iconfont icon-duigouxiao"},null,-1)}))],O={class:"tip"},v={class:"lh-30 text-bold text-center f-21 mt-8 mb-16"},j={class:"f-12 lh-16 tip-info text-center"},m={class:"btn-group"},p={class:"container pl-26 pr-26 pb-26"},h=a("2e1b"),g=a("3e47"),N=a("aad9"),V=a("569c"),w=a("4b9e"),y=a("f23a"),k=a("a136"),E=a("2849"),C=a("9d56d"),x=a("9439"),S=a("6605"),B=a("47e2");h={name:"createNft-step1",components:((c={})[h.a.name]=h.a,c[g.a.name]=g.a,c[N.a.name]=N.a,c[V.a.name]=V.a,c[w.a.name]=w.a,c[y.a.name]=y.a,c[k.a.name]=k.a,c[E.a.Component.name]=E.a.Component,c[C.a.name]=C.a,c[x.a.name]=x.a,c),setup:function(){var e=Object(B.b)().t,t=Object(r.ref)(2),a=Object(S.f)(),n=(Object(r.onMounted)((function(){n=setInterval((function(){c.value=c.value-1,c.value<=0&&(clearInterval(n),n=null,a.push({name:"home"}))}),1e3)})),null),c=Object(r.ref)(5);return Object(r.onUnmounted)((function(){clearInterval(n)})),{t:e,active:t,count:c,tohome:function(){a.push({name:"home"})}}}},a("8b36"),g=a("6b0d"),N=a.n(g);t.default=N()(h,[["render",function(e,t,n,c,h,g){var N=Object(r.resolveComponent)("van-button");return Object(r.openBlock)(),Object(r.createElementBlock)(r.Fragment,null,[Object(r.createElementVNode)("div",o,[Object(r.createElementVNode)("div",l,Object(r.toDisplayString)(c.t("castingnft.createNFT")),1),s,Object(r.createElementVNode)("div",u,[Object(r.createElementVNode)("div",i,Object(r.toDisplayString)(c.t("castingnft.information")),1),Object(r.createElementVNode)("div",d,Object(r.toDisplayString)(c.t("castingnft.done")),1)])]),Object(r.createElementVNode)("div",b,[Object(r.createElementVNode)("div",{class:"iconele flex center",style:Object(r.normalizeStyle)({backgroundImage:"url("+a("2796")+")"})},[Object(r.createElementVNode)("div",{class:"iconinner flex center",style:Object(r.normalizeStyle)({backgroundImage:"url("+a("f834")+")"})},f,4)],4)]),Object(r.createElementVNode)("div",O,[Object(r.createElementVNode)("div",v,Object(r.toDisplayString)(c.t("castingnft.congratulations")),1),Object(r.createElementVNode)("div",j,Object(r.toDisplayString)(c.t("castingnft.successfullyCreated")),1)]),Object(r.createElementVNode)("div",m,[Object(r.createElementVNode)("div",p,[Object(r.createVNode)(N,{type:"primary",block:"",onClick:c.tohome},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(c.t("castingnft.backHome"))+" ",1),Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(c.count)+"s",1)]})),_:1},8,["onClick"])])])],64)}],["__scopeId","data-v-2922166a"]])},"350d":function(e,t,a){},"361e":function(e,t,a){},"374d":function(e,t,a){"use strict";a.r(t);var n,c=a("94ae"),r=a("7a23"),o=a("9a1c"),l=a("2e1b"),s=a("98f8"),u=a("6605"),i=a("47e2");o={name:"pageNft",components:((n={})[o.a.name]=o.a,n[l.a.name]=l.a,n[s.a.name]=s.a,n.NavHeader=c.a,n),setup:function(){var e=Object(u.e)(),t=Object(u.f)();return{route:e,clickLeft:function(){t.back()},t:Object(i.b)().t}}},l=a("6b0d"),s=a.n(l)()(o,[["render",function(e,t,a,n,o,l){var s=c.a,u=Object(r.resolveComponent)("van-sticky"),i=Object(r.resolveComponent)("router-view");return Object(r.openBlock)(),Object(r.createElementBlock)(r.Fragment,null,[Object(r.createVNode)(u,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(s,{title:n.t("sendNFT.sendNFT")},{left:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("span",{class:"back hover f-12",onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.clickLeft&&n.clickLeft.apply(n,e)})},Object(r.toDisplayString)(n.t("createAccountpage.back")),1)]})),_:1},8,["title"])]})),_:1}),Object(r.createVNode)(i,null,{default:Object(r.withCtx)((function(e){return e=e.Component,[(Object(r.openBlock)(),Object(r.createBlock)(r.KeepAlive,null,[(Object(r.openBlock)(),Object(r.createBlock)(Object(r.resolveDynamicComponent)(e)))],1024))]})),_:1})],64)}]]);t.default=s},"395f":function(e,t,a){},"3ee8":function(e,t,a){},"3f39":function(e,t,a){"use strict";a.r(t);var n,c=a("7a23"),r={class:"qrcode-modal"},o={class:"title text-center text-bold van-hairline--bottom"},l={class:"tip f-12 lh-16 text-center pl-24 pr-24 mt-12 mb-12"},s={id:"qrcode",class:"flex center mb-24"},u={class:"code-box flex center"},i={class:"flex center pb-30"},d=function(e){return Object(c.pushScopeId)("data-v-18790647"),e=e(),Object(c.popScopeId)(),e}((function(){return Object(c.createElementVNode)("i",{class:"iconfont icon-all_download"},null,-1)})),b=a("2849"),f=a("d39c"),O=(f=a.n(f),a("73ec")),v=(b=Object(c.defineComponent)({name:"qrcode-modal",components:((v={})[b.a.Component.name]=b.a.Component,v.QrcodeVue=f.a,v),props:{title:{type:String,default:"Back up QR code"},modelValue:{type:Boolean,default:!1},data:{type:String||Number,default:""},level:{type:String,default:"L"},size:{type:Number,default:300},desc:{type:String,default:"Please back up your QR code in a safe environment Screenshot is not advised"},downloadText:{type:String,default:"Save QR Code to Photos"}},setup:function(e,t){var a=t.emit,n=(t=Object(c.reactive)({}),Object(c.ref)(!1)),r=(Object(c.watch)((function(){return e.modelValue}),(function(e){n.value=e}),{immediate:!0}),Object(c.watch)((function(){return n.value}),(function(e){e||a("update:modelValue",!1)})),Object(c.computed)((function(){return JSON.stringify({type:"mnemonic",data:e.data})})));return{showModal:n,download:function(){Object(O.c)()},coderef:t,code:r}}}),f=(a("fa4f"),a("6b0d")),a.n(f)),j=v()(b,[["render",function(e,t,a,n,b,f){var O=Object(c.resolveComponent)("qrcode-vue"),v=Object(c.resolveComponent)("van-dialog");return Object(c.openBlock)(),Object(c.createElementBlock)("div",r,[Object(c.createVNode)(v,{show:e.showModal,"onUpdate:show":t[1]||(t[1]=function(t){return e.showModal=t}),teleport:"#page-box",showConfirmButton:!1,showCancelButton:!1,closeOnClickOverlay:"",title:""},{default:Object(c.withCtx)((function(){return[Object(c.createElementVNode)("div",o,Object(c.toDisplayString)(e.$t("mnemonic.backup")),1),Object(c.createElementVNode)("div",l,Object(c.toDisplayString)(e.$t("mnemonic.backupyourQRcodeinasafeenvironment")),1),Object(c.createElementVNode)("div",s,[Object(c.createElementVNode)("div",u,[Object(c.createVNode)(O,{value:e.code,class:"code",size:e.size,level:e.level,ref:"coderef"},null,8,["value","size","level"])])]),Object(c.createElementVNode)("div",i,[Object(c.createElementVNode)("div",{class:"clickActive savebtn lh-30 text-center",onClick:t[0]||(t[0]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.download&&e.download.apply(e,t)})},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.$t("mnemonic.saveQRcode"))+" ",1),d])])]})),_:1},8,["show"])])}],["__scopeId","data-v-18790647"]]),m={class:"mnemonic-bg pt-24 pb-24"},p={class:"tit-big text-center f-16"},h={class:"flex center"},g={class:"tit-small text-center f-12 mt-10 lh-16"},N={class:"icon-box flex center"},V=[function(e){return Object(c.pushScopeId)("data-v-45b60592"),e=e(),Object(c.popScopeId)(),e}((function(){return Object(c.createElementVNode)("i",{class:"iconfont success icon-duihao2"},null,-1)}))],w={class:"tip"},y={class:"lh-20 text-center f-14 mt-8 mb-16"},k={class:"f-12 lh-16 tip-info text-center"},E={class:"btn-groups"},C={class:"container flex between pl-28 pr-28"},x=a("9ab4"),S=(f=a("2e1b"),b=a("98f8"),a("6605")),B=a("fd9f"),T=a("348e"),_=a("5502"),D=a("47e2");f={name:"mnemonic-step1",components:((n={})[f.a.name]=f.a,n[b.a.name]=b.a,n.qrcodeModal=j,n),setup:function(){var e=this,t=Object(D.b)().t,a=Object(S.f)(),n=Object(_.b)(),r=Object(c.ref)(!1),o=Object(_.b)().commit,l=Object(c.ref)(""),s=Object(c.computed)((function(){return n.state.mnemonic.keyStore}));return Object(c.onMounted)((function(){return Object(x.c)(e,void 0,void 0,(function(){var e,t;return Object(x.d)(this,(function(a){switch(a.label){case 0:return e=Object(B.a)("password"),t=l,[4,Object(T.c)(e,s.value)];case 1:return t.value=a.sent(),o("system/UPDATE_HASBACKUPMNEMONIC",!0),[2]}}))}))})),{t:t,toHome:function(){a.push({name:"home"})},openCode:function(){r.value=!0},show:r,data:l}}};a("1a6f"),t.default=v()(f,[["render",function(e,t,n,r,o,l){var s=Object(c.resolveComponent)("van-button"),u=j;return Object(c.openBlock)(),Object(c.createElementBlock)(c.Fragment,null,[Object(c.createElementVNode)("div",m,[Object(c.createElementVNode)("div",p,Object(c.toDisplayString)(r.t("mnemonic.yourRecoveryPhrase")),1),Object(c.createElementVNode)("div",h,[Object(c.createElementVNode)("div",g,Object(c.toDisplayString)(r.t("mnemonic.protectYourFunds")),1)])]),Object(c.createElementVNode)("div",N,[Object(c.createElementVNode)("div",{class:"iconele flex center",style:Object(c.normalizeStyle)({backgroundImage:"url("+a("d24d")+")"})},[Object(c.createElementVNode)("div",{class:"iconinner flex center",style:Object(c.normalizeStyle)({backgroundImage:"url("+a("6292")+")"})},V,4)],4)]),Object(c.createElementVNode)("div",w,[Object(c.createElementVNode)("div",y,Object(c.toDisplayString)(r.t("mnemonic.backUpSuccessful")),1),Object(c.createElementVNode)("div",k,Object(c.toDisplayString)(r.t("mnemonic.backupQRcode")),1)]),Object(c.createElementVNode)("div",E,[Object(c.createElementVNode)("div",C,[Object(c.createVNode)(s,{block:"",onClick:r.openCode,class:"mr-10"},{default:Object(c.withCtx)((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(r.t("mnemonic.QRCode")),1)]})),_:1},8,["onClick"]),Object(c.createVNode)(s,{type:"primary",block:"",onClick:r.toHome},{default:Object(c.withCtx)((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(r.t("mnemonic.done")),1)]})),_:1},8,["onClick"])])]),Object(c.createVNode)(u,{modelValue:r.show,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.show=e}),data:r.data},null,8,["modelValue","data"])],64)}],["__scopeId","data-v-45b60592"]])},"4dec":function(e,t,a){"use strict";function n(e){return Object(r.pushScopeId)("data-v-76413bd5"),e=e(),Object(r.popScopeId)(),e}a.r(t);var c=a("9ab4"),r=a("7a23"),o=a("94ae"),l=a("9262"),s=a("84b1"),u=(s=a.n(s),a("b92b")),i=(u=a.n(u),a("5fe8")),d=(i=a.n(i),a("5502")),b=a("d4c0"),f={class:"flex valid-info"},O={class:"flex center iconBox"},v={class:"flex center-v text-left valid-addr ml-8 van-ellipsis"},j={key:0,class:"flex center"},m={key:0,class:"expresion",src:s.a,alt:""},p={key:1,class:"expresion",src:u.a,alt:""},h={key:2,class:"expresion",src:i.a,alt:""},g={class:"flex valid-balance"},N={class:"lh-18 text-right"},V={class:"lh-18 text-right"},w=Object(r.defineComponent)({__name:"validCard",props:{data:Object},emits:["handleClick"],setup:function(e,t){function a(){n("handleClick",{addr:c.data.Addr})}var n=t.emit,c=e,o=Object(d.b)().state,s=(Object(r.computed)((function(){return o.account.accountInfo})),Object(r.computed)((function(){var e=Number(c.data.Coefficient);return e<40?"sad":40<=e&&e<=50?"neutral":50<e?"smile":void 0}))),u=Object(r.computed)((function(){var e=Number(c.data.percent);return e<33?"#3aae55":33<=e&&e<66?"black":66<e?"#9F54BA":void 0}));return function(e,t){var n;return Object(r.openBlock)(),Object(r.createElementBlock)("div",{class:Object(r.normalizeClass)("valid-card flex between position relative pl-8 pr-8 pt-10 pb-10 mb-8 "+(c.data.selected?"selected":"")),onClick:a},[Object(r.createElementVNode)("div",f,[Object(r.createElementVNode)("div",O,[Object(r.createVNode)(l.a,{data:null==(n=c.data)?void 0:n.icon},null,8,["data"])]),Object(r.createElementVNode)("div",v,Object(r.toDisplayString)(Object(r.unref)(b.a)(null==(n=c.data)?void 0:n.Addr)),1),null!=(n=c.data)&&n.isValidator?(Object(r.openBlock)(),Object(r.createElementBlock)("div",j,["smile"==Object(r.unref)(s)?(Object(r.openBlock)(),Object(r.createElementBlock)("img",m)):Object(r.createCommentVNode)("",!0),"sad"==Object(r.unref)(s)?(Object(r.openBlock)(),Object(r.createElementBlock)("img",p)):Object(r.createCommentVNode)("",!0),"neutral"==Object(r.unref)(s)?(Object(r.openBlock)(),Object(r.createElementBlock)("img",h)):Object(r.createCommentVNode)("",!0)])):Object(r.createCommentVNode)("",!0)]),Object(r.createElementVNode)("div",g,[Object(r.createElementVNode)("div",{class:"flex column between",style:Object(r.normalizeStyle)({color:Object(r.unref)(u)})},[Object(r.createElementVNode)("div",N,Object(r.toDisplayString)(c.data.Balance)+" ERB",1),Object(r.createElementVNode)("div",V,Object(r.toDisplayString)(c.data.percent)+"%",1)],4)])],2)}}}),y=(a("100d"),a("6b0d")),k=(y=a.n(y),y()(w,[["__scopeId","data-v-fffbf5d4"]])),E=a("21a0"),C=a("4162"),x=a("da92"),S=a("f23a"),B=a("b4d6"),T=a("5913"),_=a("2e1b"),D=a("2a85"),A=a("c030"),M=a("d257"),U=(w=a("901e"),a.n(w)),I=a("47e2"),F=a("e864"),P=a("3809"),z=a("f4ad"),L="/contractApi",R={class:"valid-list-modal"},H=function(e){return Object(r.pushScopeId)("data-v-2cc09ffe"),e=e(),Object(r.popScopeId)(),e}((function(){return Object(r.createElementVNode)("i",{class:"iconfont icon-xiajiantou f-14"},null,-1)})),q=["title","onClick"],J={class:"flex center iconBox"},W=["onMousemove","onMouseout"],$=["innerHTML"],G={class:"info flex column between ml-8 flex-1"},Q={class:"flex between"},K={class:"flex center"},X={key:0,class:"expresion",src:s.a,alt:""},Y={key:1,class:"expresion",src:u.a,alt:""},Z={key:2,class:"expresion",src:i.a,alt:""},ee={class:"addr text-left van-ellipsis"},te={class:"pt-10 flex center"},ae={class:"validator-btns pb-24 pt-24"},ne=(w=Object(r.defineComponent)({__name:"validListModal",props:{title:String,modelValue:Boolean},emits:["update:modelValue","confirm"],setup:function(e,t){function a(e){var t=e.target.clientHeight,a=e.target.scrollTop;e.target.scrollHeight<t+a+20&&!j.value&&!m.value&&V()}function n(){return Object(c.c)(o,void 0,void 0,(function(){var e,t,a;return Object(c.d)(this,(function(n){switch(n.label){case 0:if(!v.value)return w.fail(i("validator.addressErr")),[2];y.value=!0,n.label=1;case 1:return n.trys.push([1,4,5,6]),A.a.utils.getAddress(v.value),[4,Object(D.i)()];case 2:return[4,n.sent().provider.send("eth_getAccountInfo",[v.value,"latest"])];case 3:return e=n.sent(),(t=null!=(t=e.Worm)&&t.PledgedBalance?new U.a(null==(t=e.Worm)?void 0:t.PledgedBalance).div(1e18).toNumber():0)<700&&f.value.address.toUpperCase()!=v.value.toUpperCase()?(w.warn(i("validator.fromPledgeErr")),[2]):(s("confirm",{Balance:t,Coefficient:null==(a=e.Worm)?void 0:a.Coefficient,Addr:v.value,icon:Object(M.b)(),isValidator:new U.a(t).gte(7e4),ethAccountInfo:e}),O.value=!1,[3,6]);case 4:return n.sent(),w.fail(i("transaction.malformedaddress")),[3,6];case 5:return y.value=!1,[7];case 6:return[2]}}))}))}var o=this,s=t.emit,u=e,i=Object(I.b)().t,b=Object(d.b)().state,f=Object(r.computed)((function(){return b.account.accountInfo})),O=Object(r.ref)(!1),v=Object(r.ref)(),j=Object(r.ref)(!1),m=Object(r.ref)(!1),p=(Object(r.watch)((function(){return u.modelValue}),(function(e){(O.value=e)&&V()}),{immediate:!0,deep:!0}),Object(r.watch)((function(){return O.value}),(function(e){e||(s("update:modelValue"),Object(r.nextTick)((function(){k()})))})),Object(r.ref)([])),h={order:"score desc",page:"1",page_size:"10"},g=function(e){return e=Number(e),e<40?"sad":40<=e&&e<=50?"neutral":50<e?"smile":void 0},N=function(e){return e=Number(e),e<=0?"sad":0<e&&e<=50?"neutral":50<e?"smile":void 0},V=function(){return Object(c.c)(o,void 0,void 0,(function(){var e,t;return Object(c.d)(this,(function(a){switch(a.label){case 0:if(j.value||m.value)return[2];j.value=!0,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,(n=h,Object(P.a)(L+"/validator/page",n))];case 2:return e=a.sent().data,h.page=Number(h.page)+1+"",(t=p.value).push.apply(t,(e&&e.length?e:[]).map((function(e){return Object(c.a)(Object(c.a)({},e),{icon:Object(M.b)(),scoreClass:N(Number(e.score)),iconClass:g(e.weight),useraddr:e.address,Pledged:new U.a(e.amount).div(1e18).toNumber(),showPopover:!1})}))),(!e||e.length<10)&&(m.value=!0),[3,4];case 3:return j.value=!1,[7];case 4:return[2]}var n}))}))},w=Object(F.a)().$wtoast,y=Object(r.ref)(!1),k=function(){O.value=!1,m.value=!1,h.page="1";var e=setTimeout((function(){p.value=[],clearTimeout(e)}),300)};return function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(x.a,{title:Object(r.unref)(i)("wallet.account"),modelValue:O.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return O.value=e}),className:"validListModal"},{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",R,[Object(r.createVNode)(Object(r.unref)(S.a),{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.value=e}),label:"",placeholder:Object(r.unref)(i)("validator.placeholder")},{"right-icon":Object(r.withCtx)((function(){return[H]})),_:1},8,["modelValue","placeholder"]),Object(r.createElementVNode)("div",{class:"valid-list scrollBar",onScroll:a,id:"validBox"},[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(p.value,(function(e){return Object(r.openBlock)(),Object(r.createElementBlock)("div",{key:e.useraddr,class:Object(r.normalizeClass)("flex valid-card pl-10 pr-10 pt-12 pb-12 "+(e.selected?"selected":"")),title:e.useraddr,onClick:function(t){var a;a=e,p.value.forEach((function(e){e.useraddr.toUpperCase()==a.useraddr.toUpperCase()?(e.selected=!0,v.value=a.useraddr):e.selected=!1}))}},[Object(r.createElementVNode)("div",J,[Object(r.createVNode)(l.a,{data:e.icon},null,8,["data"]),Object(r.createElementVNode)("div",{class:"icon-mask flex center",onMousemove:function(t){return e.showPopover=!0},onMouseout:function(t){return e.showPopover=!1}},[Object(r.createVNode)(Object(r.unref)(B.a),{class:"validPopover",show:e.showPopover,"onUpdate:show":function(t){return e.showPopover=t},placement:"right",theme:"light",style:{maxWidth:500}},{reference:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",{class:Object(r.normalizeClass)("mask-text flex center "+e.scoreClass)},Object(r.toDisplayString)(e.score),3)]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",{class:"p-10",style:{"word-space":"pre-line"},innerHTML:Object(r.unref)(i)("validator.scoreTip")},null,8,$)]})),_:2},1032,["show","onUpdate:show"])],40,W)]),Object(r.createElementVNode)("div",G,[Object(r.createElementVNode)("div",Q,[Object(r.createElementVNode)("div",K,["smile"==e.iconClass?(Object(r.openBlock)(),Object(r.createElementBlock)("img",X)):Object(r.createCommentVNode)("",!0),"sad"==e.iconClass?(Object(r.openBlock)(),Object(r.createElementBlock)("img",Y)):Object(r.createCommentVNode)("",!0),"neutral"==e.iconClass?(Object(r.openBlock)(),Object(r.createElementBlock)("img",Z)):Object(r.createCommentVNode)("",!0)]),Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(e.Pledged)+" ERB",1)]),Object(r.createElementVNode)("div",ee,Object(r.toDisplayString)(e.useraddr),1)])],10,q)})),128)),Object(r.withDirectives)(Object(r.createElementVNode)("div",te,[Object(r.createVNode)(Object(r.unref)(T.a),{color:"#9F54BA",size:"22"},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(i)("wallet.loading")),1)]})),_:1})],512),[[r.vShow,j.value]]),p.value.length||j.value?Object(r.createCommentVNode)("",!0):(Object(r.openBlock)(),Object(r.createBlock)(C.a,{key:0,class:"pb-20"}))],32),Object(r.createElementVNode)("div",ae,[Object(r.createVNode)(Object(r.unref)(_.a),{class:"mr-26",onClick:k},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(i)("common.cancel")),1)]})),_:1}),Object(r.createVNode)(Object(r.unref)(_.a),{type:"primary",onClick:n,loading:y.value},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(i)("common.confirm")),1)]})),_:1},8,["loading"])])])]})),_:1},8,["title","modelValue"])}}}),a("91a7"),y()(w,[["__scopeId","data-v-2cc09ffe"]])),ce=a("1ec8"),re=a("6cdb"),oe=a("66e2"),le=a("f19b"),se=a("f80f"),ue=a("6c43"),ie=a("9a1c"),de=a("4b9e"),be=a("fdc9"),fe=a("9422"),Oe=a("6605"),ve=a("34cf"),je={class:"staker-validator-page"},me={class:"staker-card"},pe={class:"flex cenetr iconBox"},he={class:"flex-1 ml-10 flex column between"},ge={class:"addr"},Ne={class:"flex center stakerArrow"},Ve={class:"label lh-28 flex center-v"},we={class:"pl-10 pr-10"},ye={key:0,class:"flex between pt-10"},ke={class:"lh-14 flex center-v pr-10 neutral"},Ee={class:"flex center"},Ce=n((function(){return Object(r.createElementVNode)("i",{class:"iconfont icon-plus mr-4"},null,-1)})),xe={class:"label lh-28 flex center-v"},Se={class:"pl-10 pr-10"},Be={class:"valist"},Te=n((function(){return Object(r.createElementVNode)("div",{class:"van-hairline--top"},null,-1)})),_e={class:"staker-card pt-8"},De={class:"label lh-28 flex center-v"},Ae={class:"pl-10 pr-10"},Me={class:"staker-con flex center-v"},Ue=n((function(){return Object(r.createElementVNode)("div",{class:"van-hairline--top"},null,-1)})),Ie={class:"staker-card pt-8"},Fe={class:"label lh-28 flex center-v"},Pe={class:"pl-10 pr-10"},ze={class:"staker-con flex center-v"},Le={class:"pl-10 pr-10"},Re=n((function(){return Object(r.createElementVNode)("span",{style:{"font-weight":"bold","font-size":"16px",color:"#000"}},"ERB",-1)})),He={key:0,class:"flex evenly mt-24 mb-24 btnBox"},qe={key:1,class:"flex evenly mt-24 mb-24"};s=Object(r.defineComponent)({__name:"staker",setup:function(e){function t(){}function a(){new U.a(Y.value).gt(et.value)&&(Y.value=Number(et.value))}function n(e){Y.value=e}function s(e){return Object(c.c)(g,void 0,void 0,(function(){var t;return Object(c.d)(this,(function(a){switch(a.label){case 0:return $e.value.find((function(t){return t.Addr.toUpperCase()==e.Addr.toUpperCase()}))?(Je.warn(N("validator.addrHasExits")),[2]):[4,Object(D.i)()];case 1:return[4,a.sent().provider.getBlockNumber()];case 2:return t=a.sent(),Qe.value=t,$e.value.forEach((function(e){return e.selected=!1})),e.selected=!0,t=Object(c.a)(Object(c.a)({},e),{percent:0,Balance:0}),$e.value.push(t),[2]}}))}))}function u(){return Object(c.c)(g,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(c){switch(c.label){case 0:if(e=G.value.Coefficient,t=(70-e)/10,new U.a($.value.amount).lt(t+1))return Je.warn(N("minerspledge.noMoney",{value:t+1})),[2];c.label=1;case 1:return c.trys.push([1,3,4,5]),ue.a.loading({duration:0,forbidClick:!0}),a={to:$.value.address,value:A.a.utils.parseEther(t.toString()),data:A.a.utils.hexlify(A.a.utils.toUtf8Bytes(H.getters["account/chainParsePrefix"]+":"+JSON.stringify({type:26,version:"v0.0.1"})))},[4,Object(D.h)(a)];case 2:return a=c.sent(),ee.value={address:$.value.address,Coefficient:e,amount:t,gasFee:a},Z.value=!0,[3,5];case 3:return n=c.sent(),Je.warn(n.reason),[3,5];case 4:return ue.a.clear(),[7];case 5:return[2]}}))}))}function i(){var e;Y.value?0==Number(Y.value)?Je.warn(N("validator.redemAmountErr3")):new U.a(Y.value).gt(Ye.value)?Je.warn(N("validator.redemAmountErr")):(e=new U.a(Ye.value).minus(Y.value)).lt(700)&&e.gt(0)?Je.warn(N("validator.leftPledgeErr")):te.value=!0:Je.warn(N("validator.redemAmountErr2"))}function b(){return Object(c.c)(g,void 0,void 0,(function(){var e,t;return Object(c.d)(this,(function(a){switch(a.label){case 0:te.value=!1,ae.open({approveMessage:N("minerspledge.minus_approve"),wattingMessage:N("minerspledge.minus_waiting"),successMessage:N("minerspledge.minus_success"),failMessage:N("minerspledge.minus_wrong"),callBack:Xe}),a.label=1;case 1:return a.trys.push([1,4,,5]),e=H.getters["account/chainParsePrefix"]+":"+JSON.stringify({type:10,version:"0.0.1"}),e=A.a.utils.hexlify(A.a.utils.toUtf8Bytes(e)),e={to:Q.value,value:Y.value,data:e},[4,J("account/transaction",e)];case 2:return e=a.sent(),ae.update({status:"approve"}),[4,e.wait()];case 3:return 1!=(t=a.sent()).status?ae.update({status:"fail",hash:t.transactionHash}):ae.update({status:"success",hash:t.transactionHash}),J("account/waitTxQueueResponse"),[3,5];case 4:return t=a.sent(),ae.update({status:"fail"}),Je.fail(t.reason),[3,5];case 5:return[2]}}))}))}function f(e){Je.fail(-1<e.message.indexOf("too close to cancel")?N("error.stakeredeem"):e.message)}function O(){return Object(c.c)(g,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(c){switch(c.label){case 0:Z.value=!1,e=ee.value.amount,t=H.getters["account/chainParsePrefix"]+":"+JSON.stringify({type:26,version:"v0.0.1"}),e={value:e,data:A.a.utils.hexlify(A.a.utils.toUtf8Bytes(t)),to:$.value.address},ae.open({disabled:[ve.a.pendding,ve.a.approve],callBack:Xe}),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,J("account/transaction",e)];case 2:return t=c.sent(),ae.update({status:"approve",callBack:Xe}),a=t.hash,[4,t.wallet.provider.waitForTransaction(a)];case 3:return n=c.sent(),n.status?ae.update({status:"success",callBack:Xe,hash:a}):ae.update({status:"fail",callBack:Xe,hash:a}),ee.value={},J("account/waitTxQueueResponse"),[3,5];case 4:return-1<(n=c.sent()).toString().indexOf("timeout")?ae.update({status:"warn",failMessage:N("error.timeout"),callBack:Xe}):ae.update({status:"fail",failMessage:n.reason,callBack:Xe}),console.error(n),[3,5];case 5:return[2]}}))}))}function v(){var e,t=$e.value.find((function(e){return e.selected}));t?!(e=new U.a(t.Balance)).lt(700)||Y.value&&!new U.a(Y.value).lt(700)?e.gte(700)&&!Number(Y.value)?Je.warn(N("validator.pledgeAmountErr1")):(Q.value=t.Addr,R.value=!0):Je.warn(N("validator.pledgeAmountErr")):Je.warn(N("validator.pleaseSelectedAddr"))}function j(){return Object(c.c)(g,void 0,void 0,(function(){var e,t,a;return Object(c.d)(this,(function(n){switch(n.label){case 0:ae.open({approveMessage:N("minerspledge.create_approve"),successMessage:N("minerspledge.create_waiting"),wattingMessage:N("minerspledge.create_success"),failMessage:N("minerspledge.create_wrong"),callBack:Xe}),n.label=1;case 1:return n.trys.push([1,4,,5]),e=H.state.configuration.setting.staker.fee_rate,e=H.getters["account/chainParsePrefix"]+":"+JSON.stringify({type:9,proxy_address:$.value.address,fee_rate:e||1e3,name:"Staker",url:"",version:"v0.0.1"}),e=A.a.utils.hexlify(A.a.utils.toUtf8Bytes(e)),e={to:Q.value,value:Y.value,data:e},[4,J("account/transaction",e)];case 2:return e=n.sent(),ae.update({status:"approve"}),[4,e.wait()];case 3:return a=n.sent(),t=a.transactionHash,1!=a.status?ae.update({status:"fail",hash:t}):ae.update({status:"success",hash:t}),J("account/waitTxQueueResponse"),[3,5];case 4:return a=n.sent(),ae.update({status:"fail"}),Je.fail(a.reason),[3,5];case 5:return[2]}}))}))}function m(e){Je.fail(e.reason)}function p(e){var t=e.Addr;$e.value.forEach((function(e){t.toUpperCase()==e.Addr.toUpperCase()?(e.selected=!0,Q.value=e.Addr):e.selected=!1}))}function h(){We.back()}var g=this,N=Object(I.b)().t,V=Object(r.ref)(!1),w=Object(r.ref)(!1),y=Object(r.ref)(!1),C=Object(r.ref)(!1),T=Object(r.ref)(!1),L=Object(r.ref)(!1),R=Object(r.ref)(!1),H=Object(d.b)(),q=H.state,J=H.dispatch,W=H.getters,$=Object(r.computed)((function(){return q.account.accountInfo})),G=Object(r.computed)((function(){return q.account.ethAccountInfo})),Q=Object(r.ref)(""),K=Object(r.ref)(0),X=Object(r.ref)(!1),Y=Object(r.ref)(),Z=Object(r.ref)(!1),ee=Object(r.ref)({}),te=Object(r.ref)(!1),ae=Object(fe.a)().$tradeConfirm,Je=Object(F.a)().$wtoast,We=Object(Oe.f)(),$e=Object(r.ref)([]),Ge=Object(r.ref)([]),Qe=Object(r.ref)(0),Ke=(Object(r.onMounted)((function(){var e=ue.a.loading({duration:0,forbidClick:!0,message:N("common.loading")});J("configuration/getConfiguration"),J("account/getEthAccountInfo").finally((function(){e.clear()})),be.a.on("changeAccount",(function(e){Xe()}))})),Object(r.onUnmounted)((function(){be.a.off("changeAccount")})),Object(r.watch)((function(){return G.value}),(function(e){Ke()}),{deep:!0}),function(){return Object(c.c)(g,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return n=(null==(n=G.value.StakerExtension)?void 0:n.StakerExtensions)||[],e=n.length?n.reduce((function(e,t){return e+new U.a(t.Balance).div(1e18).toNumber()}),0):0,$e.value=n.map((function(t,a){var n=t.Balance,r=new U.a(n).div(1e18);n=n?r.toNumber():0;return Object(c.a)(Object(c.a)({},t),{Balance:n,percent:new U.a(n).div(e).multipliedBy(100).toFixed(2),totalPledge:e,icon:$.value.address.toUpperCase()==t.Addr.toUpperCase()?$.value.icon:Object(M.b)(),selected:!1})})),Ge.value=n.map((function(e){return Object(c.a)(Object(c.a)({},e),{Balance:new U.a(e.Balance).div(1e18).toFixed(2)})})),(n=n.map((function(e){return e.Addr})))&&n.length&&(o={users:JSON.stringify(n)},Object(P.b)(z.j+"/v1/getUsersCoefficient",o).then((function(e){e.data.forEach((function(e){$e.value.forEach((function(t){t.Addr.toUpperCase()==e.useraddr.toUpperCase()&&(t.Coefficient=e.coefficient,t.isValidator=!0)}))})),$e.value.sort((function(e,t){return e.Balance-t.Balance})).sort((function(e,t){return t.Addr.toUpperCase()===$.value.address.toUpperCase()?1:-1}))}))),[4,Object(D.i)()];case 1:return[4,r.sent().provider.getBlockNumber()];case 2:return n=r.sent(),Qe.value=n,$e.value.find((function(e){return e.Addr.toUpperCase()==$.value.address.toUpperCase()}))||(a=$.value,t=a.address,a=a.icon,$e.value.unshift({Addr:t,icon:a,Balance:0,percent:0,selected:!0})),Q.value=$e.value.length?$e.value[0].Addr:"",$e.value&&$e.value.length&&($e.value[0].selected=!0),[2]}var o}))}))}),Xe=function(){return Object(c.c)(g,void 0,void 0,(function(){var e,t;return Object(c.d)(this,(function(a){switch(a.label){case 0:return e=ue.a.loading({duration:0,forbidClick:!0,message:N("validator.updateLoadingText")}),[4,J("account/getEthAccountInfo")];case 1:return a.sent(),[4,J("account/updateBalance")];case 2:return a.sent(),t=setTimeout((function(){e.clear(),clearTimeout(t)}),200),[2]}}))}))},Ye=Object(r.computed)((function(){var e=$e.value.find((function(e){return e.Balance&&e.selected}));return e?e.Balance:0})),Ze=Object(r.computed)((function(){return $e.value.reduce((function(e,t){return e+t.Balance}),0)})),et=Object(r.computed)((function(){var e=$e.value.find((function(e){return e.selected}));return e?new U.a($.value.amount).gt(e.Balance)?Number($.value.amount):e.Balance:0})),tt=Object(r.computed)((function(){return W["system/getAmount"]})),at=Object(r.computed)((function(){for(var e=new U.a($.value.amount),t=e.gt(Ye.value)?e.toNumber():Ye.value,a={},n=0,c=[.1,.2,.3,.4,.5,.6,.7,.8,.9];n<c.length;n++){var r=c[n];a[new U.a(t).multipliedBy(r).toNumber().toString()]=""}return a})),nt=Object(r.computed)((function(){return G.value.Coefficient})),ct=Object(r.computed)((function(){return new U.a(G.value.PledgedBalance||0).div(1e18).gte(7e4)})),rt=Object(r.computed)((function(){return!!$e.value.find((function(e){return e.Balance&&e.selected}))})),ot=Object(r.computed)((function(){var e=$e.value.find((function(e){return e.selected}));return!(!e||!e.BlockNumber||1<Qe.value-e.BlockNumber)})),lt=Object(r.computed)((function(){return(70-G.value.Coefficient)/10})),st=Object(r.computed)((function(){return $e.value.filter((function(e){return e.Addr.toUpperCase()!=$.value.address.toUpperCase()}))})),ut=Object(r.computed)((function(){return $e.value.filter((function(e){return e.Addr.toUpperCase()==$.value.address.toUpperCase()}))}));return function(e,c){return Object(r.openBlock)(),Object(r.createElementBlock)(r.Fragment,null,[Object(r.createVNode)(o.a,{title:Object(r.unref)(N)("validator.pageTit"),hasRight:!1},{left:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("span",{class:"back",onClick:h},Object(r.toDisplayString)(Object(r.unref)(N)("common.back")),1)]})),_:1},8,["title"]),Object(r.createElementVNode)("div",je,[Object(r.createElementVNode)("div",me,[Object(r.createElementVNode)("div",{class:"stakerAddr pl-8 pr-8 pt-14 pb-14 flex",onClick:c[0]||(c[0]=function(e){return T.value=!0})},[Object(r.createElementVNode)("div",pe,[Object(r.createVNode)(l.a,{data:Object(r.unref)($).icon},null,8,["data"])]),Object(r.createElementVNode)("div",he,[Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)($).name),1),Object(r.createElementVNode)("div",ge,Object(r.toDisplayString)(Object(r.unref)($).address),1)]),Object(r.createElementVNode)("div",Ne,[Object(r.createElementVNode)("i",{class:Object(r.normalizeClass)("iconfont  f-14 "+(T.value?"icon-shangjiantou":"icon-xiajiantou"))},null,2)])]),Object(r.createElementVNode)("div",Ve,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(N)("validator.ownValidator")),1),Object(r.createVNode)(Object(r.unref)(B.a),{show:V.value,"onUpdate:show":c[3]||(c[3]=function(e){return V.value=e}),theme:"dark",placement:"bottom-start"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(ie.a),{name:"question hover",onMouseover:c[1]||(c[1]=function(e){return V.value=!0}),onMouseleave:c[2]||(c[2]=function(e){return V.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",we,Object(r.toDisplayString)(Object(r.unref)(N)("validator.ownValidatorTip")),1)]})),_:1},8,["show"])]),Object(r.createElementVNode)("div",null,[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(Object(r.unref)(ut),(function(e){return Object(r.openBlock)(),Object(r.createBlock)(k,{key:e.Addr,title:e.Addr,data:e,onHandleClick:function(t){return p(e)}},null,8,["title","data","onHandleClick"])})),128))]),Object(r.unref)(nt)<70&&Object(r.unref)(ct)?(Object(r.openBlock)(),Object(r.createElementBlock)("div",ye,[Object(r.createElementVNode)("div",ke,Object(r.toDisplayString)(Object(r.unref)(N)("minerspledge.resetBtnTip",{value:Object(r.unref)(lt)})),1),Object(r.createElementVNode)("div",Ee,[Object(r.createElementVNode)("div",{class:"add-btn flex center hover",onClick:u},[Ce,Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(N)("common.recovery")),1)])])])):Object(r.createCommentVNode)("",!0),Object(r.createElementVNode)("div",xe,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(N)("validator.otherValidator")),1),Object(r.createVNode)(Object(r.unref)(B.a),{show:C.value,"onUpdate:show":c[6]||(c[6]=function(e){return C.value=e}),theme:"dark",placement:"bottom-start"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(ie.a),{name:"question hover",onMouseover:c[4]||(c[4]=function(e){return C.value=!0}),onMouseleave:c[5]||(c[5]=function(e){return C.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",Se,Object(r.toDisplayString)(Object(r.unref)(N)("validator.otherValidatorTip")),1)]})),_:1},8,["show"])]),Object(r.createElementVNode)("div",Be,[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(Object(r.unref)(st),(function(e){return Object(r.openBlock)(),Object(r.createBlock)(k,{key:e.Addr,data:e,title:e.Addr,onHandleClick:function(t){return p(e)}},null,8,["data","title","onHandleClick"])})),128))]),Object(r.createElementVNode)("div",{class:"add-valid-btn flex center mt-12 mb-12",onClick:c[7]||(c[7]=function(e){return L.value=!0})},[Object(r.createVNode)(Object(r.unref)(ie.a),{name:"plus",class:"mr-8"}),Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(N)("validator.addValids")),1)])]),Te,Object(r.createElementVNode)("div",_e,[Object(r.createElementVNode)("div",De,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(N)("validator.totalStaking")),1),Object(r.createVNode)(Object(r.unref)(B.a),{show:y.value,"onUpdate:show":c[10]||(c[10]=function(e){return y.value=e}),theme:"dark",placement:"bottom-start"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(ie.a),{name:"question hover",onMouseover:c[8]||(c[8]=function(e){return y.value=!0}),onMouseleave:c[9]||(c[9]=function(e){return y.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",Ae,Object(r.toDisplayString)(Object(r.unref)(N)("common.exchange_pledge")),1)]})),_:1},8,["show"])]),Object(r.createElementVNode)("div",Me,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(Ze))+"ERB",1)])]),Ue,Object(r.createElementVNode)("div",Ie,[Object(r.createElementVNode)("div",Fe,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(N)("validator.amount")),1),Object(r.createVNode)(Object(r.unref)(B.a),{show:w.value,"onUpdate:show":c[13]||(c[13]=function(e){return w.value=e}),theme:"dark",placement:"bottom-start"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(ie.a),{name:"question hover",onMouseover:c[11]||(c[11]=function(e){return w.value=!0}),onMouseleave:c[12]||(c[12]=function(e){return w.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",Pe,Object(r.toDisplayString)(Object(r.unref)(N)("validator.amountTip")),1)]})),_:1},8,["show"])]),Object(r.createElementVNode)("div",ze,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(Object(r.unref)(tt))+"ERB",1)]),Object(r.createElementVNode)("div",Le,[Object(r.createVNode)(Object(r.unref)(le.a),{modelValue:K.value,"onUpdate:modelValue":c[14]||(c[14]=function(e){return K.value=e}),onChange:n,max:Object(r.unref)(et),step:1,min:0,marks:Object(r.unref)(at),class:"lider-ipt"},null,8,["modelValue","max","marks"])]),Object(r.createVNode)(Object(r.unref)(de.a),{onSubmit:t,ref:"formDom"},{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",{class:Object(r.normalizeClass)((X.value?"error":"")+" mt-10")},[Object(r.createVNode)(Object(r.unref)(S.a),{maxlength:"25",modelValue:Y.value,"onUpdate:modelValue":c[15]||(c[15]=function(e){return Y.value=e}),class:"text",onBlur:a,type:"number",placeholder:Object(r.unref)(N)("bourse.placeamount")},{"right-icon":Object(r.withCtx)((function(){return[Re]})),_:1},8,["modelValue","placeholder"])],2)]})),_:1},512)]),Object(r.unref)(rt)?(Object(r.openBlock)(),Object(r.createElementBlock)("div",He,[Object(r.createVNode)(Object(r.unref)(_.a),{onClick:i,disabled:Object(r.unref)(ot)},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(se.a),{"popper-class":"tooltip2",class:"box-item",effect:"dark",content:Object(r.unref)(N)("minerspledge.closeTip2"),placement:"top",trigger:"hover"},{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",{class:Object(r.normalizeClass)("hover redeemBtn "+(Object(r.unref)(ot)?" disabled":""))},Object(r.toDisplayString)(Object(r.unref)(N)("createExchange.pledgeRed")),3)]})),_:1},8,["content"])]})),_:1},8,["disabled"]),Object(r.createVNode)(Object(r.unref)(_.a),{type:"primary",onClick:v},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(N)("bourse.addTit")),1)]})),_:1})])):(Object(r.openBlock)(),Object(r.createElementBlock)("div",qe,[Object(r.createVNode)(Object(r.unref)(_.a),{type:"primary",block:"",onClick:v},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(N)("validator.pageTit")),1)]})),_:1})]))]),Object(r.createVNode)(E.a,{modelValue:T.value,"onUpdate:modelValue":c[16]||(c[16]=function(e){return T.value=e}),hasBtn:!1},null,8,["modelValue"]),Object(r.createVNode)(ne,{modelValue:L.value,"onUpdate:modelValue":c[17]||(c[17]=function(e){return L.value=e}),onConfirm:s,onCancel:c[18]||(c[18]=function(e){return L.value=!1})},null,8,["modelValue"]),Object(r.createVNode)(ce.a,{show:te.value,"onUpdate:show":c[19]||(c[19]=function(e){return te.value=e}),onConfirm:b,to:Q.value,minusNumber:Y.value,amount:Object(r.unref)(Ye),onError:f},null,8,["show","to","minusNumber","amount"]),Object(r.createVNode)(x.a,{modelValue:Z.value,"onUpdate:modelValue":c[21]||(c[21]=function(e){return Z.value=e}),title:Object(r.unref)(N)("validator.recoveryCred")},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(oe.a,{onCancel:c[20]||(c[20]=function(e){return Z.value=!1}),onConfirm:O,data:ee.value},null,8,["data"])]})),_:1},8,["modelValue","title"]),Object(r.createVNode)(re.a,{address:Object(r.unref)($).address,to:Q.value,amount:Object(r.unref)(Ye),addNumber:Y.value,show:R.value,"onUpdate:show":c[22]||(c[22]=function(e){return R.value=e}),onError:m,onOpen:j},null,8,["address","to","amount","addNumber","show"])],64)}}});a("a954"),t.default=y()(s,[["__scopeId","data-v-76413bd5"]])},"54fb":function(e,t,a){"use strict";a("710f")},"5e94":function(e,t,a){},"5fd5":function(e,t,a){},"6a48":function(e,t,a){},"710f":function(e,t,a){},"8aff":function(e,t,a){"use strict";a("f608")},"8b36":function(e,t,a){"use strict";a("5fd5")},"8e66":function(e,t,a){"use strict";function n(e){return Object(r.pushScopeId)("data-v-58f56a16"),e=e(),Object(r.popScopeId)(),e}a.r(t);var c=a("9ab4"),r=a("7a23"),o=a("62d1"),l=a("4b9e"),s=a("a136"),u=a("b4d6"),i=a("9a1c"),d=a("f23a"),b=a("e31f"),f=a("2e1b"),O=a("901e"),v=a.n(O),j=a("47e2"),m=a("f4ad"),p=a("da92"),h=a("0274"),g=a("5502"),N=a("c030"),V=a("9422"),w=a("34cf"),y=a("e864"),k=a("6605"),E=a("2a85"),C={class:"ai-page"},x={class:"label mb-6"},S=n((function(){return Object(r.createElementVNode)("span",{class:"mr-4"},"*",-1)})),B={class:"p-10"},T={class:"label mt-16"},_=n((function(){return Object(r.createElementVNode)("span",{class:"mr-4"},"*",-1)})),D={class:"label mt-16 mb-8"},A={class:"pl-10 pr-10"},M={class:"form-item"},U={key:0},I={class:"label mt-16 mb-8"},F=n((function(){return Object(r.createElementVNode)("span",{class:"mr-4"},"*",-1)})),P={class:"pl-10 pr-10"},z={key:1,class:"form-item"},L={class:"btn-box mt-30"},R={class:"container flex center pl-28 pr-28"},H=(O=Object(r.defineComponent)({__name:"ai",setup:function(e){function t(){return Object(c.c)(J,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(c){switch(c.label){case 0:if(le.value&&o.b.test(oe.value))return W.warn(Y("generateNFT.normalNftTip")),[2];Oe.value=!0,e=!le.value&&o.b.test(oe.value),t=X.account.accountInfo.address,c.label=1;case 1:return c.trys.push([1,9,,10]),e?[3,6]:[4,Object(E.h)({to:t,value:N.a.utils.parseEther("1")})];case 2:return a=c.sent(),ie.value?(pe.value=a,[3,5]):[3,3];case 3:return[4,ce()];case 4:n=c.sent(),pe.value=new v.a(n).plus(a).toString(),c.label=5;case 5:return[3,8];case 6:return[4,ce()];case 7:n=c.sent(),pe.value=n,c.label=8;case 8:return[3,10];case 9:return c.sent(),W.fail(Y("common.noMoney")),[3,10];case 10:return[2]}}))}))}function a(){return Object(c.c)(J,void 0,void 0,(function(){var e,t,a,n,r,l,s,u,i;return Object(c.d)(this,(function(c){switch(c.label){case 0:e=!le.value&&o.b.test(oe.value),Oe.value=!1,$.open({disabled:[w.a.pendding],callback:function(){G.push({name:"generateNFT-success"})}}),c.label=1;case 1:return c.trys.push([1,13,14,15]),t=X.account.accountInfo.address,ie.value?[3,8]:e?[4,ve()]:[3,3];case 2:return c.sent(),[3,7];case 3:return le.value?[4,je()]:[3,5];case 4:return a=c.sent(),r=a.nft_address,a.owner,a=a.hash,$.update({status:"success",hash:a,callBack:function(){G.replace({name:"generateNFT-success"})}}),[3,7];case 5:return a=Math.round(2147483647*Math.random())+"",n={prompt:oe.value,randomNumber:a,version:"v1"},[4,me(n)];case 6:n=c.sent(),s=n.receipt,r=n.nft_address,n.owner,$.update({status:"success",hash:s.transitionHash,callBack:function(){G.replace({name:"generateNFT-success"})}}),c.label=7;case 7:return[3,12];case 8:return r=re.address?re.address.toString():"",l={owner:t,nft_address:r,version:"v1"},s={useraddr:t.toString(),nftaddr:r,email:de.value.toString(),drawflag:"1"},[4,Object(m.a)(s)];case 9:return c.sent(),[4,K("account/transaction",{value:ge.value,to:he.value,data:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(l)))})];case 10:return u=c.sent(),$.update({status:"approve"}),[4,u.wait()];case 11:if(1!=c.sent().status)return $.update({status:"fail",hash:u.hash,callBack:function(){G.replace({name:"home"})}}),[2];$.update({status:"success",hash:u.hash,callBack:function(){G.replace({name:"generateNFT-success"})}}),c.label=12;case 12:return[3,15];case 13:return i=c.sent(),console.error(i),W.warn(i.reason),[3,15];case 14:return K("account/waitTxQueueResponse"),Oe.value=!1,[7];case 15:return[2]}}))}))}function n(e){return e?o.e.test(e)?!(ee.value=!1):(ee.value=!0,Y("generateNFT.emailError")):(ee.value=!0,Y("generateNFT.emailNotNull"))}function O(e){return e?o.d.test(e)&&!o.b.test(e)||!o.d.test(e)&&o.b.test(e)||o.d.test(e)||o.b.test(e)?!(te.value=!1):(te.value=!0,Y("generateNFT.promptWordErr")):(te.value=!0,Y("generateNFT.promptWordNotNull"))}function H(e){return e?!(ae.value=!1):(ae.value=!0,Y("castingnft.numbersof"))}function q(){var e=new v.a(fe.value||"0");e.gt(10)?fe.value=10:e.lt(1)?fe.value=1:fe.value=parseInt(e.toFormat(1).toString())}var J=this,W=Object(y.a)().$wtoast,$=Object(V.a)().$tradeConfirm,G=Object(k.f)(),Q=Object(g.b)(),K=Q.dispatch,X=Q.state,Y=Object(j.b)().t,Z=Object(r.ref)(!1),ee=Object(r.ref)(!1),te=Object(r.ref)(!1),ae=Object(r.ref)(!1),ne=(Object(r.ref)(!1),Object(k.e)()),ce=(Object(r.computed)((function(){return Q.getters["account/chainParsePrefix"]})),function(){return Object(c.c)(J,void 0,void 0,(function(){var e,t,a,n;return Object(c.d)(this,(function(c){switch(c.label){case 0:return e=!le.value&&o.b.test(oe.value),t=X.account.accountInfo.address,a=Math.round(2147483647*Math.random())+"",n={},e?n.meta_url=oe.value:(n.prompt=oe.value,n.randomNumber=a,n.version="v1"),a={version:"0.0.1",type:0,royalty:100*Number(fe.value),exchanger:"",meta_url:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(n)))},n=Q.getters["account/chainParsePrefix"]+":"+JSON.stringify(a),a=N.a.utils.hexlify(N.a.utils.toUtf8Bytes(n)),n={to:t,from:t,data:a,value:e?N.a.utils.parseEther("0"):N.a.utils.parseEther(ge.value.toString())},[4,Object(E.h)(n)];case 1:return[2,c.sent()]}}))}))}),re=ne.query,oe=(ne=re.info?JSON.parse(re.info):null,Object(r.ref)(ne?ne.prompt:"")),le=Object(r.ref)(!!ne),se=Object(r.ref)(!1),ue=Object(r.ref)(!1),ie=Object(r.ref)(!!ne),de=Object(r.ref)(re.user_mail||""),be=Object(r.ref)(!!re.address),fe=Object(r.ref)(re.royalty_ratio?Number(re.royalty_ratio)/100:""),Oe=Object(r.ref)(!1),ve=(Object(r.watch)((function(){return le.value}),(function(e){e||(de.value="")})),function(){return Object(c.c)(J,void 0,void 0,(function(){var e,t,a,n,r;return Object(c.d)(this,(function(c){switch(c.label){case 0:return e={meta_url:oe.value},[4,me(e,(function(){$.update({status:"approve"})}))];case 1:return e=c.sent(),t=e.receipt,a=e.nft_address,n=e.owner,r=e.hash,$.update({status:"success",hash:r,callBack:function(){G.replace({name:"generateNFT-success"})}}),[2,{receipt:t,nft_address:a,owner:n}]}}))}))}),je=function(){return Object(c.c)(J,void 0,void 0,(function(){var e,t,a,n,r;return Object(c.d)(this,(function(c){switch(c.label){case 0:return e=Math.round(2147483647*Math.random())+"",e={prompt:oe.value,randomNumber:e,version:"v1"},[4,me(e)];case 1:return e=c.sent(),e.receipt,t=e.nft_address,a=e.owner,n={useraddr:a,nftaddr:t,email:de.value.toString(),drawflag:"1"},[4,Object(m.a)(n)];case 2:return c.sent(),n={nft_address:t,owner:a,version:"v1"},[4,K("account/transaction",{value:ge.value,to:he.value,data:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(n)))})];case 3:return r=c.sent(),$.update({status:"approve"}),[4,r.wait()];case 4:return 1!=c.sent().status?($.update({status:"fail",hash:r.hash,callBack:function(){G.replace({name:"home"})}}),[2,Promise.reject("tx fail")]):[2,{nft_address:t,owner:a,hash:r.hash}]}}))}))},me=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=function(e){}),Object(c.c)(J,void 0,void 0,(function(){var a,n,r,o;return Object(c.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),a=X.account.accountInfo.address,r={version:"0.0.1",type:0,royalty:100*Number(fe.value),exchanger:"",meta_url:N.a.utils.hexlify(N.a.utils.toUtf8Bytes(JSON.stringify(e)))},r=Q.getters["account/chainParsePrefix"]+":"+JSON.stringify(r),r=N.a.utils.hexlify(N.a.utils.toUtf8Bytes(r)),[4,K("account/transaction",{to:a,from:a,data:r,value:"0"})];case 1:return n=c.sent(),t(n),[4,n.wait()];case 2:return r=c.sent(),o=r.logs[0],r.status?(o=o.topics,o[0],o=o[1],o="0x"+o.substr(o.length-40),[2,{receipt:r,nft_address:o,owner:a,hash:n.hash}]):[2,Promise.reject("failure of transaction")];case 3:return o=c.sent(),[2,Promise.reject(o)];case 4:return[2]}}))}))},pe=Object(r.ref)(""),he=Object(r.ref)(""),ge=Object(r.ref)(0);return Object(r.onMounted)((function(){return Object(c.c)(J,void 0,void 0,(function(){var e,t;return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,Object(m.c)()];case 1:return e=a.sent(),he.value=e.data,[4,Object(m.i)()];case 2:return e=a.sent(),ge.value=Number(N.a.utils.formatUnits(e.data,"ether")),ie.value?(t=X.account.accountInfo.address,[4,Object(m.f)({useraddr:t})]):[3,4];case 3:t=a.sent(),de.value=t.data,a.label=4;case 4:return[2]}}))}))})),function(e,c){return Object(r.openBlock)(),Object(r.createElementBlock)("div",C,[Object(r.createVNode)(Object(r.unref)(l.a),{onSubmit:t},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(s.a),{class:"formGroup"},{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",x,[S,Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptWord"))+" ",1),Object(r.createVNode)(Object(r.unref)(u.a),{show:Z.value,"onUpdate:show":c[2]||(c[2]=function(e){return Z.value=e}),theme:"dark",placement:"bottom-start"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(i.a),{name:"question hover",onMouseover:c[0]||(c[0]=function(e){return Z.value=!0}),onMouseleave:c[1]||(c[1]=function(e){return Z.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",B,[Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptTip")),1),Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptTip1")),1),Object(r.createElementVNode)("div",null,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.promptTip2")),1)])]})),_:1},8,["show"])]),Object(r.createVNode)(Object(r.unref)(d.a),{class:Object(r.normalizeClass)(te.value?"error":""),"label-align":"top",modelValue:oe.value,"onUpdate:modelValue":c[3]||(c[3]=function(e){return oe.value=e}),disabled:!!Object(r.unref)(re).address,autosize:"",rows:6,clearable:"",type:"textarea",label:"",placeholder:Object(r.unref)(Y)("generateNFT.placeholder"),rules:[{validator:O}]},null,8,["class","modelValue","disabled","placeholder","rules"]),Object(r.createElementVNode)("div",T,[_,Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("castingnft.royalty"))+" ( 1%-10% ) ",1)]),Object(r.createVNode)(Object(r.unref)(d.a),{modelValue:fe.value,"onUpdate:modelValue":c[4]||(c[4]=function(e){return fe.value=e}),name:"royalty",disabled:!!Object(r.unref)(re).address,class:Object(r.normalizeClass)(ae.value?"error":""),type:"digit",onBlur:q,placeholder:e.$t("castingnft.royaltyPlaceholder"),rules:[{validator:H}]},null,8,["modelValue","disabled","class","placeholder","rules"]),Object(r.createElementVNode)("div",D,[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.creativeMode"))+" ",1),Object(r.createVNode)(Object(r.unref)(u.a),{show:ue.value,"onUpdate:show":c[7]||(c[7]=function(e){return ue.value=e}),theme:"dark",placement:"right"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(i.a),{name:"question hover",onMouseover:c[5]||(c[5]=function(e){return ue.value=!0}),onMouseleave:c[6]||(c[6]=function(e){return ue.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",A,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.aiDrawTip")),1)]})),_:1},8,["show"])]),Object(r.createElementVNode)("div",M,[Object(r.createVNode)(Object(r.unref)(b.a),{modelValue:le.value,"onUpdate:modelValue":c[8]||(c[8]=function(e){return le.value=e}),size:"20",disabled:ie.value},null,8,["modelValue","disabled"])]),le.value?(Object(r.openBlock)(),Object(r.createElementBlock)("div",U,[Object(r.createElementVNode)("div",I,[F,Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.emailAddr"))+" ",1),Object(r.createVNode)(Object(r.unref)(u.a),{show:se.value,"onUpdate:show":c[11]||(c[11]=function(e){return se.value=e}),theme:"dark",placement:"right"},{reference:Object(r.withCtx)((function(){return[Object(r.createVNode)(Object(r.unref)(i.a),{name:"question hover",onMouseover:c[9]||(c[9]=function(e){return se.value=!0}),onMouseleave:c[10]||(c[10]=function(e){return se.value=!1})})]})),default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("p",P,Object(r.toDisplayString)(Object(r.unref)(Y)("generateNFT.emailTip")),1)]})),_:1},8,["show"])]),be.value||le.value?(Object(r.openBlock)(),Object(r.createBlock)(Object(r.unref)(d.a),{key:0,class:Object(r.normalizeClass)(ee.value?"error":""),"label-align":"top",modelValue:de.value,"onUpdate:modelValue":c[12]||(c[12]=function(e){return de.value=e}),label:"",clearable:"",placeholder:Object(r.unref)(Y)("generateNFT.placeEmail"),rules:[{validator:n}]},null,8,["class","modelValue","placeholder","rules"])):(Object(r.openBlock)(),Object(r.createElementBlock)("div",z,[Object(r.createElementVNode)("span",null,Object(r.toDisplayString)(de.value),1),Object(r.createElementVNode)("i",{class:"iconfont icon-bianji ml-6 hover",onClick:c[13]||(c[13]=function(e){return be.value=!1})})]))])):Object(r.createCommentVNode)("",!0)]})),_:1}),Object(r.createElementVNode)("div",L,[Object(r.createElementVNode)("div",R,[Object(r.createVNode)(Object(r.unref)(f.a),{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(Object(r.unref)(Y)("sendto.next")),1)]})),_:1})])])]})),_:1}),Object(r.createVNode)(p.a,{modelValue:Oe.value,"onUpdate:modelValue":c[15]||(c[15]=function(e){return Oe.value=e}),title:Object(r.unref)(Y)("generateNFT.geneateComfirm")},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(h.a,{onCancel:c[14]||(c[14]=function(e){return Oe.value=!1}),onConfirm:a,gasFee:pe.value,value:ge.value,sendAddr:he.value,promptWord:oe.value,email:de.value},null,8,["gasFee","value","sendAddr","promptWord","email"])]})),_:1},8,["modelValue","title"])])}}}),a("54fb"),a("6b0d"));a=a.n(H);t.default=a()(O,[["__scopeId","data-v-58f56a16"]])},"91a7":function(e,t,a){"use strict";a("395f")},"9d3c":function(e,t,a){"use strict";a("3ee8")},"9e8b":function(e,t,a){},"9ff4d":function(e,t,a){},a81b:function(e,t,a){},a91e:function(e,t,a){"use strict";a.r(t);var n=a("94ae"),c=a("7a23"),r={class:"page-sign"},o={class:"page-container"},l={class:"sign-bg flex center"},s={class:"text-center sign-bg-icon"},u={class:"text-center sign-bg-tit"},i={class:"text-center sign-bg-tit1"},d={class:"sign-info"},b={class:"title"},f={class:"value"},O={class:"title"},v={key:0,class:"flex center"},j={class:"flex between btn-box"},m=a("9ab4"),p=a("5913"),h=a("9a1c"),g=a("98f8"),N=a("f23a"),V=a("2e1b"),w=a("6c43"),y=a("6605"),k=a("5502"),E=a("c030"),C=a("fd9f"),x=a("afe3"),S=a("e762"),B=a("e6a9"),T=a.n(B),_=a("47e2");p={name:"sign",components:((B={})[p.a.name]=p.a,B[h.a.name]=h.a,B[g.a.name]=g.a,B[N.a.name]=N.a,B[V.a.name]=V.a,B.NavHeader=n.a,B),setup:function(){var e,t,a,n,r,o,l,s,u,i,d,b=this,f=Object(_.b)().t,O=Object(y.f)(),v=(e=x.a.global.t,p=Object(y.e)(),t=Object(y.f)(),p=p.query,v=Object(k.b)(),a=v.dispatch,v.state,n=Object(c.ref)(""),r=p.address,o=p.sig,l=p.backUrl,s=!0,u=Object(c.ref)(!1),i=Object(C.a)("password"),d=Object(c.ref)(""),{toSign:function(c){var b=function(){};if(c&&(r=c.address,o=c.sig,b=c.call||function(){},s="boolean"!=typeof c.isAdmin||c.isAdmin),o){if(i)return u.value=!0,c={password:i,address:(null==r?void 0:r.toString())||""},a("account/connectWalletByPwdAddress",c).then((function(t){return Object(m.c)(void 0,void 0,void 0,(function(){var a,c,r,u,i,f,O,v,j,p,h,g,N,V,y;return Object(m.d)(this,(function(k){switch(k.label){case 0:return k.trys.push([0,20,,21]),null!=(a=o)&&a.toString().startsWith("[")&&null!=a&&a.toString().endsWith("]")?(c=null==a?void 0:a.toString().replace("[","").replace("]","").split(","),s?(r=[],c.forEach((function(e){e=E.a.utils.joinSignature(new E.a.utils.SigningKey(t.privateKey).signDigest(e)),r.push(e)})),n.value=r,p=Object(S.a)((null==l?void 0:l.toString())||""),h=p+(-1<p.indexOf("?")?"&":"?"),d.value=h+"sig="+JSON.stringify(n.value),[3,15]):[3,1]):[3,16];case 1:u=[],k.label=2;case 2:k.trys.push([2,8,9,14]),i=Object(m.b)(c),k.label=3;case 3:return[4,i.next()];case 4:return(f=k.sent()).done?[3,7]:(j=f.value,v=(O=u).push,[4,t.signMessage(j)]);case 5:v.apply(O,[k.sent()]),k.label=6;case 6:return[3,3];case 7:return[3,14];case 8:return j=k.sent(),V={error:j},[3,14];case 9:return k.trys.push([9,,12,13]),f&&!f.done&&(y=i.return)?[4,y.call(i)]:[3,11];case 10:k.sent(),k.label=11;case 11:return[3,13];case 12:if(V)throw V.error;return[7];case 13:return[7];case 14:n.value=u,k.label=15;case 15:return[3,19];case 16:return s?(n.value=E.a.utils.joinSignature(new E.a.utils.SigningKey(t.privateKey).signDigest(a)),p=Object(S.a)((null==l?void 0:l.toString())||""),h=p+(-1<p.indexOf("?")?"&":"?"),d.value=h+"sig="+n.value,[3,19]):[3,17];case 17:return g=n,[4,t.signMessage(a)];case 18:g.value=k.sent(),k.label=19;case 19:return b(n.value),[2,n.value];case 20:return N=k.sent(),console.error(N||e("sign.unknownmistake")),Object(w.a)(N||e("sign.unknownmistake")),[3,21];case 21:return[2]}}))}))})).catch((function(e){return Object(w.a)(e)})).finally((function(){return u.value=!1}));Object(w.a)(x.a.global.t("sign.password")),t.replace({name:"withpassword"})}else Object(w.a)(x.a.global.t("sign.signature"))},loading:u,password:i,sign:n,address:r,backUrl:d}),j=v.toSign,p=v.loading,h=v.password,g=v.sign,N=v.address,V=v.backUrl,B=Object(c.ref)(!1),D=T()().toClipboard,A=Object(y.e)().query;return Object(c.onMounted)((function(){j()})),{t:f,handleBack:function(){try{var e=A&&A.backUrl?A.backUrl.toString():"";e?location.href=Object(S.a)(e):O.replace({name:"home"})}catch(e){O.replace({name:"home"})}},back:function(){O.replace({name:"home"})},loading:p,toSign:j,password:h,sign:g,address:N,toCopy:function(){return Object(m.c)(b,void 0,void 0,(function(){var e;return Object(m.d)(this,(function(t){switch(t.label){case 0:if(!g.value)return Object(w.a)(f("sign.ready")),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,D(""+g.value)];case 2:return t.sent(),B.value=!0,w.a.success(f("sign.copy")),[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return[2]}}))}))},signSelect:B,router:O,goOn:function(){g.value?V.value&&(location.href=V.value):Object(w.a)(f("sign.ready"))}}}},a("8aff"),h=a("6b0d"),g=a.n(h);t.default=g()(p,[["render",function(e,t,a,m,p,h){var g=n.a,N=Object(c.resolveComponent)("van-sticky"),V=Object(c.resolveComponent)("van-icon"),w=Object(c.resolveComponent)("van-loading"),y=Object(c.resolveComponent)("van-button");return Object(c.openBlock)(),Object(c.createElementBlock)("div",r,[Object(c.createVNode)(N,null,{default:Object(c.withCtx)((function(){return[Object(c.createVNode)(g,{hasRight:!1,title:m.t("sign.title")},{left:Object(c.withCtx)((function(){return[Object(c.createElementVNode)("span",{class:"back hover",onClick:t[0]||(t[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.back&&m.back.apply(m,e)})},Object(c.toDisplayString)(m.t("createAccountpage.back")),1)]})),_:1},8,["title"])]})),_:1}),Object(c.createElementVNode)("div",o,[Object(c.createElementVNode)("div",l,[Object(c.createElementVNode)("div",null,[Object(c.createElementVNode)("div",s,[Object(c.createVNode)(V,{name:"records"})]),Object(c.createElementVNode)("div",u,Object(c.toDisplayString)(m.t("sign.signatureIdentification")),1),Object(c.createElementVNode)("div",i,Object(c.toDisplayString)(m.t("sign.confirmsignaturedata")),1)])]),Object(c.createElementVNode)("div",d,[Object(c.createElementVNode)("div",b,Object(c.toDisplayString)(m.t("sign.walletaddress")),1),Object(c.createElementVNode)("div",f,Object(c.toDisplayString)(m.address),1),Object(c.createElementVNode)("div",O,Object(c.toDisplayString)(m.t("sign.signaturedata")),1),m.loading?(Object(c.openBlock)(),Object(c.createElementBlock)("div",v,[Object(c.createVNode)(w,{color:"#9F54BA"})])):(Object(c.openBlock)(),Object(c.createElementBlock)("div",{key:1,class:Object(c.normalizeClass)("value "+(m.signSelect?"focus":"")),onClick:t[1]||(t[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.toCopy&&m.toCopy.apply(m,e)})},Object(c.toDisplayString)(m.sign),3))]),Object(c.createElementVNode)("div",j,[Object(c.createVNode)(y,{type:"default",onClick:m.handleBack,plain:""},{default:Object(c.withCtx)((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(m.t("sign.cancel")),1)]})),_:1},8,["onClick"]),Object(c.createVNode)(y,{type:"primary",onClick:m.goOn},{default:Object(c.withCtx)((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(m.t("sign.confirm")),1)]})),_:1},8,["onClick"])])])])}],["__scopeId","data-v-746494d3"]])},a954:function(e,t,a){"use strict";a("9ff4d")},bc97:function(e,t,a){"use strict";a("361e")},c0f1:function(e,t,a){"use strict";a("9e8b")},d80c:function(e,t,a){"use strict";a("350d")},d86a:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=a("5881"),r=a.n(c),o=a("5c40"),l=a("47e2"),s=a("6605"),u={class:"startpages"},i={class:"startcotop"},d=function(e){return Object(n.pushScopeId)("data-v-d5055a78"),e=e(),Object(n.popScopeId)(),e}((function(){return Object(n.createElementVNode)("div",{class:"startcontop_img"},[Object(n.createElementVNode)("img",{src:r.a,alt:"",id:"container"})],-1)})),b={class:"startcotop_txt"},f=(c=Object(n.defineComponent)({__name:"startpage",setup:function(e){var t=Object(s.f)(),a=Object(l.b)().t;return Object(o.ob)((function(){var e=setTimeout((function(){t.replace({name:"home"}),clearTimeout(e)}),3e3)})),function(e,t){return Object(n.openBlock)(),Object(n.createElementBlock)("div",u,[Object(n.createElementVNode)("div",i,[d,Object(n.createElementVNode)("div",b,Object(n.toDisplayString)(Object(n.unref)(a)("introductorypage.bootstrap1")),1)])])}}}),a("c0f1"),a("6b0d"));a=a.n(f);t.default=a()(c,[["__scopeId","data-v-d5055a78"]])},ecba:function(e,t,a){"use strict";a.r(t);var n,c=a("1aff"),r=a("94ae"),o=a("7a23"),l={class:"bourse"},s={class:"bourse-container-error"},u=a("9ab4"),i=a("47e2"),d=a("e6a9"),b=a.n(d),f=a("6605"),O=a("5502"),v=a("d12b"),j=(d=a("9a1c"),a("2e1b")),m=a("a136"),p=a("6c44"),h=a("6c43"),g=a("6ad9");d=Object(o.defineComponent)({components:((n={SwitchNetwork:c.a})[d.a.name]=d.a,n[j.a.name]=j.a,n[m.a.name]=m.a,n[p.a.name]=p.a,n.NavHeader=r.a,n),setup:function(e,t){var a=this,n=Object(f.f)(),c=Object(O.b)(),r=Object(o.inject)("appProvide"),l=(c.dispatch,c.commit),s=Object(o.computed)((function(){return c.state.account.networkType})),d=Object(v.a)(),j=d.netWorkList,m=d.currentNetwork,p=d.showModalNetwork,N=d.chooseNetWork,V=d.handleChoose,w=(d=d.handleChooseComfirm,Object(i.b)().t),y=b()().toClipboard,k=Object(o.computed)((function(){var e=c.state.account.accountInfo.address;return g.c+"/c"+e.toLowerCase()+"/#/"})),E=Object(o.computed)((function(){var e=c.state.account.accountInfo.address;return g.b+"?address="+e.toLowerCase()+"&exchangeAddress="+e.toLowerCase()})),C=(Object(o.nextTick)((function(){c.state.account.exchangeGuidance||(C.value=!0,l("account/UPDATE_EXCHANGEGUIDANCE",!0))})),Object(o.ref)(!1));return{toCopyAmount:function(){return Object(u.c)(a,void 0,void 0,(function(){var e;return Object(u.d)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,y(""+E.value)];case 1:return t.sent(),h.a.success(w("copy.copy")),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))},toCopyCMS:function(){return Object(u.c)(a,void 0,void 0,(function(){var e;return Object(u.d)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,y(""+k.value)];case 1:return t.sent(),h.a.success(w("copy.copy")),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))},toGoAmount:function(){window.open(""+E.value)},toCms:function(){n.push({path:"/congratulations"})},showModal:C,toGoCMS:function(){window.open(""+k.value)},goHome:function(){n.push({path:"/wallet"})},netWorkList:j,toExchange:function(){n.push({name:"bourse"})},currentNetwork:m,showModalNetwork:p,chooseNetWork:N,handleChoose:V,handleChooseComfirm:d,networkTypeValue:s,appProvide:r,t:w}}}),a("f966"),a("bc97"),j=a("6b0d"),m=a.n(j)()(d,[["render",function(e,t,a,n,u,i){var d=r.a,b=Object(o.resolveComponent)("van-icon"),f=Object(o.resolveComponent)("van-cell"),O=Object(o.resolveComponent)("van-cell-group"),v=c.a;return Object(o.openBlock)(),Object(o.createElementBlock)(o.Fragment,null,[Object(o.createVNode)(d,{title:e.t("createExchange.headerTitle")},{left:Object(o.withCtx)((function(){return[Object(o.createElementVNode)("span",{class:"back",onClick:t[0]||(t[0]=function(){for(var t,a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];return e.appProvide.back&&(t=e.appProvide).back.apply(t,a)})},Object(o.toDisplayString)(e.t("common.back")),1)]})),_:1},8,["title"]),Object(o.createElementVNode)("div",l,[Object(o.createElementVNode)("div",s,[Object(o.createVNode)(b,{name:"warning",color:"#9F54BA"}),Object(o.createElementVNode)("span",null,Object(o.toDisplayString)(e.t("bourse.tip17")),1)]),Object(o.createVNode)(O,{border:!1},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f,{title:"Access",label:e.t("bourse.cms"),"is-link":"",onClick:e.toCms},null,8,["label","onClick"]),Object(o.createVNode)(f,{onClick:e.toExchange,title:e.t("bourse.settingExchange"),label:e.t("bourse.tip18"),"is-link":""},null,8,["onClick","title","label"])]})),_:1}),Object(o.createVNode)(v,{show:e.showModalNetwork,"onUpdate:show":t[1]||(t[1]=function(t){return e.showModalNetwork=t}),onClose:t[2]||(t[2]=function(t){return e.showModalNetwork=!1})},null,8,["show"])])],64)}],["__scopeId","data-v-78859519"]]);t.default=m},f608:function(e,t,a){},f966:function(e,t,a){"use strict";a("5e94")},fa4f:function(e,t,a){"use strict";a("02e4")}}]);